window.__require=function e(t,o,n){function i(r,s){if(!o[r]){if(!t[r]){var c=r.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!s&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+r+"'")}r=c}var u=o[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,o,n)}return o[r].exports}for(var a="function"==typeof __require&&__require,r=0;r<n.length;r++)i(n[r]);return i}({Banner111013601:[function(e,t,o){"use strict";cc._RF.push(t,"61512cNRX9LjZHPchLr98yi","Banner111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.SlotBanner));o.default=c,cc._RF.pop()},{}],BonusGame111013601:[function(e,t,o){"use strict";cc._RF.push(t,"dd1a6I2KclJ4Yi48Z3BTW3S","BonusGame111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/GameEventName111013601"),s=e("../roller/GameLayer111013601"),c=e("./BonusItem111013601"),l=cc._decorator,u=l.ccclass,p=l.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.remainBtn=[],t.remainTimeLb=null,t.roller=null,t.item=null,t.mulCollect=null,t.birds=[],t.itemSrcs=[],t.gridReward=[],t.remainTime=3,t.resp=null,t.recovery=!1,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];cc.log("BonusGame111013601",t),this.recovery=t[0][0],this.initUI()},t.prototype.onLoad=function(){e.prototype.onLoad.call(this)},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),this._isEventInited||(game.EventManager.getInstance().addEventListener(r.EventName.EVENT_BONUS_GAME_START_CLOSE,this.bonusGameStartClose,this),game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.bonusGameStartClose,this),game.EventManager.getInstance().addEventListener(r.EventName.EVENT_BONUS_GAME_TIME_RESET,this.remainTimeReset,this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.LGACTIONRESP,this.actionResp,this),this.schedule(this.birdFly,15,cc.macro.REPEAT_FOREVER,15*Math.random()))},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_BONUS_GAME_START_CLOSE,this.bonusGameStartClose,this),game.EventManager.getInstance().removeEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.bonusGameStartClose,this),game.EventManager.getInstance().removeEventListener(r.EventName.EVENT_BONUS_GAME_TIME_RESET,this.remainTimeReset,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.LGACTIONRESP,this.actionResp,this),this.unschedule(this.birdFly)},t.prototype.initUI=function(){var e=this;if(0==this.itemSrcs.length)for(var t=0;t<29;t++)if(0==t)this.itemSrcs.push(this.item.getComponent(c.default));else{if(4==t)continue;var o=Math.floor(t/5),n=122.5*(.5+o),i=-137.2*((0==o||5==o?1:.5)+t%5),a=cc.instantiate(this.item);a.setPosition(cc.v2(n,i)),this.roller.addChild(a),this.itemSrcs.push(a.getComponent(c.default))}if(this.mulCollect.active=!1,this.node.opacity=this.recovery?255:0,this.recovery){cc.log("BonusGame111013601 bonusGameInfo=",this.bonusGameInfo);var r=this.bonusGameInfo.history.length>0?this.bonusGameInfo.history.length-1:0,l=this.bonusGameInfo.luckyGoldResultList[r];for(this.remainTime=l.times,this.remainTimeLb.string=this.remainTime.toString(),t=0;t<3;t++)this.remainBtn[t].getChildByName("on").opacity=t<this.remainTime?255:0;for(this.gridReward=l.gridReward,t=0;t<this.itemSrcs.length;t++){for(var u=!1,p=0;p<this.gridReward.length;p++)if(t==this.getIndex(this.gridReward[p].pos)){this.itemSrcs[t].rollEnd(this.gridReward[p],!0),u=!0;break}u||this.itemSrcs[t].rollEnd({elem:0,goldReward:0},!0)}s.default.instance.closeLoadingView&&this.scheduleOnce(function(){return e.operate()},2),slot.ScoreBase.instance.node.srceParent=slot.ScoreBase.instance.node.parent,slot.ScoreBase.instance.node.parent=this.node,slot.ScoreBase.instance.node.y=-638}},t.prototype.bonusGameStartClose=function(){cc.log("BonusGame111013601 bonusGameStartClose bonusGameInfo=",this.bonusGameInfo),this.operate()},t.prototype.actionResp=function(e,t){var o=this;cc.log("BonusGame111013601 actionResp resp=",t),this.resp=t;var n=t.luckyGoldResultList[0==t.times?t.luckyGoldResultList.length-1:t.times-1];if(this.gridReward=n.gridReward,cc.log("BonusGame111013601 actionResp gridReward=",this.gridReward),1==t.times){this.node.opacity=255;for(var i=0;i<this.itemSrcs.length;i++){for(var a=!1,r=0;r<this.gridReward.length;r++)if(i==this.getIndex(this.gridReward[r].pos)){this.itemSrcs[i].itemInit(this.gridReward[r]),this.itemSrcs[i].clawAni(c.CLAW_ANI.ScatToClaw),a=!0;break}a||this.itemSrcs[i].itemInit({elem:0,goldReward:0})}for(this.remainTime=n.times,this.remainTimeLb.string=this.remainTime.toString(),i=0;i<3;i++)this.remainBtn[i].getChildByName("on").opacity=i<this.remainTime?255:0;this.scheduleOnce(function(){return o.operate()},3)}else this.rollStart()},t.prototype.rollStart=function(){var e=this;this.remainTimeSub();for(var t=0,o=function(o){if(n.itemSrcs[o].itemType==c.ITEM_TYPE.Box)n.scheduleOnce(function(){for(var t=!1,n=0;n<e.gridReward.length;n++)if(o==e.getIndex(e.gridReward[n].pos)){e.itemSrcs[o].rollStart(e.gridReward[n]),t=!0;break}t||e.itemSrcs[o].rollStart({elem:0,goldReward:0})},.025*t),t++;else for(var i=0;i<n.gridReward.length;i++)if(o==n.getIndex(n.gridReward[i].pos)){n.itemSrcs[o].gridReward=n.gridReward[i];break}},n=this,i=0;i<this.itemSrcs.length;i++)o(i);this.scheduleOnce(function(){return e.itemSrcs.forEach(function(e){return e.moonProcessAdd()})},.6),this.scheduleOnce(function(){return e.checkTriggerMoonSkill()},2.6)},t.prototype.checkTriggerMoonSkill=function(){var e=this,t=function(t){for(var o=-1,n=0;n<e.itemSrcs.length;n++)if(5==e.itemSrcs[n].processNum&&e.itemSrcs[n].itemType==t){o=n;break}return o},o=t(c.ITEM_TYPE.BlueMoon);if(-1==o&&(o=t(c.ITEM_TYPE.YellowMoon)),-1==o&&(o=t(c.ITEM_TYPE.RedMoon)),-1!=o){var n=[];if(this.itemSrcs[o].itemType==c.ITEM_TYPE.YellowMoon){var i=this.itemSrcs[o].gridReward.posLists;i.sort(function(e,t){return e-t}),i.forEach(function(t){return n.push(e.itemSrcs[e.getIndex(t)])})}else this.itemSrcs.forEach(function(e,t){e.itemType!=c.ITEM_TYPE.Box&&o!=t&&n.push(e)});n.forEach(function(e){return e.shakeMul()}),this.itemSrcs[o].moonAni(c.MOON_ANI.SendSkill,n,slot.Handler.create(this,function(){return e.checkTriggerMoonSkill()}))}else this.gameNext()},t.prototype.gameNext=function(){var e=this;if(0!=this.resp.times)this.operate();else{slot.SoundMger.instance.stopMusic("Free_game_back_music"),this.mulCollect.active=!0;var t=this.mulCollect.getChildByName("ske").getComponent(sp.Skeleton),o=this.mulCollect.getChildByName("img"),n=this.mulCollect.getChildByName("mulLb").getComponent(cc.Label),i=this.mulCollect.getChildByName("betLb").getComponent(cc.Label);t.clearTracks(),t.setToSetupPose(),o.opacity=0,n.string="",n.node.setSiblingIndex(100),i.node.scale=0,i.node.y=-650;var a=[];this.itemSrcs.forEach(function(e){return e.itemType!=c.ITEM_TYPE.Box&&a.push(e)});for(var s=0,l=a.length,u=function(i){p.scheduleOnce(function(){var r=a[i].itemType==c.ITEM_TYPE.Claw?a[i].clawAni(c.CLAW_ANI.EndMulCollect):a[i].moonAni(c.MOON_ANI.EndMulCollect);r.setPosition(e.mulCollect.convertToNodeSpaceAR(a[i].node.convertToWorldSpaceAR(cc.v2(0,0)))),e.mulCollect.addChild(r),cc.tween(r).set({scale:1.5}).to(.2,{scale:.5,x:0,y:0}).call(function(){s+=Number(r.mul),t.setAnimation(0,"ps_d",!1),t.setAnimation(1,"ps_e",!1),o.opacity=255,n.string=s+"x",cc.tween(n.node).set({opacity:100,scale:.5}).to(.2,{opacity:255,scale:1}).start()}).removeSelf().start(),slot.SoundMger.instance.playEffect("Free_mode_ends_"+(i<=6?i+1:7),!1),i==l-1&&slot.SoundMger.instance.playEffect("Free_mode_ends",!1)},.2*i)},p=this,d=0;d<l;d++)u(d);slot.SoundMger.instance.playEffect("Free_mode_start"),cc.tween(this.node).to(.4+.2*l,{scale:1.06}).to(.5,{scale:1}).start(),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Free_mode_sound",!1),i.string=slot.SlotUtils.formatNumber(slot.SpinManager.instance.betCost),cc.tween(i.node).to(.2,{scale:1}).to(.3,{y:0}).call(function(){game.UIManager.getInstance().open(r.UIID.UI_BONUSGAMEEND,[Number(e.resp.allReward)]),e.next(),setTimeout(function(){slot.ScoreBase.instance.node.parent=slot.ScoreBase.instance.node.srceParent,slot.ScoreBase.instance.node.y=-403,game.UIManager.getInstance().close(e)},500)}).start()},.4+.2*l)}},t.prototype.remainTimeSub=function(){if(slot.SoundMger.instance.playEffect("Free_mode_effect",!1),this.remainTime--,this.remainTime>=0){this.remainTimeLb.string=this.remainTime.toString();var e=this.remainBtn[this.remainTime].getChildByName("ske").getComponent(sp.Skeleton);e.setCompleteListener(null),e.setAnimation(0,"bns_life_d",!1),this.remainBtn[this.remainTime].getChildByName("node").active=!1,cc.tween(this.remainBtn[this.remainTime].getChildByName("on")).to(.2,{opacity:0}).start()}},t.prototype.remainTimeReset=function(){var e=this;if(3!=this.remainTime){for(var t=function(t){setTimeout(function(){slot.SoundMger.instance.playEffect("Free_mode_recovery1",!1),cc.tween(e.remainBtn[t].getChildByName("on")).to(.2,{opacity:255}).start(),e.remainBtn[t].getChildByName("node").active=!0;var o=e.remainBtn[t].getChildByName("ske").getComponent(sp.Skeleton);o.setAnimation(0,"bns_life_a",!1),o.setCompleteListener(function(){o.setCompleteListener(null),o.setAnimation(0,"bns_life_c",!0)})},100*(t-o.remainTime))},o=this,n=this.remainTime;n<3;n++)t(n);this.remainTime=3,this.remainTimeLb.string=this.remainTime.toString()}},t.prototype.getIndex=function(e){return e<5?e-1:e-2},t.prototype.birdFly=function(){for(var e=this,t=Math.ceil(3*Math.random()),o=function(t){setTimeout(function(){var o=500+250*Math.random(),n=700+300*Math.random();cc.tween(e.birds[t]).set({x:-420,y:o}).to(1,{x:420,y:n}).start()},t*Math.random()*300)},n=0;n<t;n++)o(n)},a([p([cc.Node])],t.prototype,"remainBtn",void 0),a([p(cc.Label)],t.prototype,"remainTimeLb",void 0),a([p(cc.Node)],t.prototype,"roller",void 0),a([p(cc.Node)],t.prototype,"item",void 0),a([p(cc.Node)],t.prototype,"mulCollect",void 0),a([p([cc.Node])],t.prototype,"birds",void 0),a([u],t)}(slot.AbstractBonusGameView);o.default=d,cc._RF.pop()},{"../base/GameEventName111013601":"GameEventName111013601","../roller/GameLayer111013601":"GameLayer111013601","./BonusItem111013601":"BonusItem111013601"}],BonusGameEnd111013601:[function(e,t,o){"use strict";cc._RF.push(t,"dcf4eTC6GtNaqp2kJKgxczE","BonusGameEnd111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/GameEventName111013601"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeBack=null,t.container=null,t.winNumLb=null,t.continueBtn=null,t.touchLayer=null,t.scoreSumTween=null,t.sumWinCoin=null,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];cc.log("BonusGameEnd----args=",t),this.sumWinCoin=t[0][0],this.playAni()},t.prototype.playAni=function(){var e=this;slot.SoundMger.instance.playEffect("Free_over",!1),cc.Tween.stopAllByTarget(this.continueBtn),this.continueBtn.scale=0,this.continueBtn.getComponent(cc.Button).interactable=!1,this.touchLayer.active=!1,this.scheduleOnce(function(){return e.touchLayer.active=!0},1),cc.tween(this.node).set({opacity:0}).to(.3,{opacity:255}).start(),cc.tween(this.container).set({scale:0}).to(.3,{scale:1}).start(),this.scoreSumTween=cc.tween({s:0}).to(5,{s:this.sumWinCoin},{progress:function(t,o,n,i){var a=cc.misc.lerp(t,o,i);return e.winNumLb.string=slot.SlotUtils.formatNumber(a),a}}).call(function(){return e.scoreSumFinish()}).start()},t.prototype.scoreSumFinish=function(){var e=this;this.touchLayer.active=!1,this.scoreSumTween&&(this.scoreSumTween.stop(),this.scoreSumTween),slot.SoundMger.instance.stopEffect("Free_over"),slot.SoundMger.instance.playEffect("FreeGame_over"),this.winNumLb.string=slot.SlotUtils.formatNumber(this.sumWinCoin),cc.tween(this.node).to(.04,{position:cc.v3(0,-5)}).to(.04,{position:cc.v3(5,0)}).to(.04,{position:cc.v3(0,5)}).to(.04,{position:cc.v3(-5,0)}).to(.02,{position:cc.v3(0,0)}).start(),cc.tween(this.continueBtn).to(.2,{scale:1}).call(function(){return e.continueBtn.getComponent(cc.Button).interactable=!0}).delay(4).call(function(){return e.onContinueClick(null,!1)}).start()},t.prototype.onContinueClick=function(e,t){var o=this;void 0===t&&(t=!0),cc.Tween.stopAllByTarget(this.continueBtn),this.continueBtn.getComponent(cc.Button).interactable=!1,!t&&cc.tween(this.continueBtn).to(.05,{scale:.8}).to(.05,{scale:1}).start(),slot.SoundMger.instance.playEffect("Freegame_awards_click",!1),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_BONUS_GAME_END_CLOSE,this.sumWinCoin),cc.Tween.stopAllByTarget(this.node),cc.tween(this.node).set({x:0,y:0}).to(.2,{opacity:0}).call(function(){var e=function(){return slot.SoundMger.instance.playMusic("Game_Back_Music2",!1,t)},t=function(){return slot.SoundMger.instance.playMusic("Game_Back_Music3",!1,e)};slot.SoundMger.instance.playMusic("Game_Back_Music2",!1,t),o.continueBtn.scale=0,game.UIManager.getInstance().close(o)}).start()},t.prototype.onLoad=function(){this.continueBtn.on(cc.Node.EventType.MOUSE_ENTER,this.mouseEnter,this),this.continueBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.mouseLeave,this)},t.prototype.onDestroy=function(){this.continueBtn.off(cc.Node.EventType.MOUSE_ENTER,this.mouseEnter,this),this.continueBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.mouseLeave,this)},t.prototype.mouseEnter=function(){this.continueBtn.getChildByName("light").active=!0},t.prototype.mouseLeave=function(){this.continueBtn.getChildByName("light").active=!1},a([l(sp.Skeleton)],t.prototype,"skeBack",void 0),a([l(cc.Node)],t.prototype,"container",void 0),a([l(cc.Label)],t.prototype,"winNumLb",void 0),a([l(cc.Node)],t.prototype,"continueBtn",void 0),a([l(cc.Node)],t.prototype,"touchLayer",void 0),a([c,u("game/111013601/BonusGameEnd111013601")],t)}(slot.BaseView);o.default=p,cc._RF.pop()},{"../base/GameEventName111013601":"GameEventName111013601"}],BonusGameStart111013601:[function(e,t,o){"use strict";cc._RF.push(t,"be0ad4b//RMm7C/sU6OMB7h","BonusGameStart111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/GameEventName111013601"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.skeBack=null,t.skeTop=null,t.container=null,t.ringAni=null,t.continueBtn=null,t}return i(t,e),t.prototype.onOpen=function(e){for(var t=[],o=1;o<arguments.length;o++)t[o-1]=arguments[o];cc.log("\u514d\u8d39\u6e38\u620f\u5f00\u59cb----args=",t),this.playAni()},t.prototype.playAni=function(){var e=this;this.container.opacity=this.ringAni.node.opacity=0,this.continueBtn.active=!1,this.skeTop.clearTracks(),this.skeTop.setToSetupPose(),this.skeBack.setAnimation(0,"bl",!1),cc.tween(this.skeTop.node).set({opacity:0}).call(function(){return e.skeTop.setAnimation(0,"bl_guang",!1)}).to(.3,{opacity:255}).start(),cc.tween(this.container).delay(.8).to(1,{opacity:255}).call(function(){e.ringAni.play(),e.ringAni.on("finished",function(){e.ringAni.off("finished"),e.continueBtn.active=!0,cc.tween(e.continueBtn).set({scale:1.1}).to(.2,{scale:1}).call(function(){return e.continueBtn.getComponent(cc.Button).interactable=!0}).delay(4).call(function(){return e.onContinueClick(null,!1)}).start()})}).start(),slot.ScoreBase.instance.node.srceParent=slot.ScoreBase.instance.node.parent,slot.ScoreBase.instance.node.parent=this.node,slot.ScoreBase.instance.node.y=-638},t.prototype.onContinueClick=function(e,t){var o=this;void 0===t&&(t=!0),cc.Tween.stopAllByTarget(this.continueBtn),this.continueBtn.getComponent(cc.Button).interactable=!1,!t&&cc.tween(this.continueBtn).to(.05,{scale:.8}).to(.05,{scale:1}).start(),slot.SoundMger.instance.playEffect("Freegame_starts_clicking",!1),this.skeTop.setAnimation(0,"bl_guang",!1),this.skeTop.setAnimation(1,"bl_over",!1),game.EventManager.getInstance().raiseEvent(r.EventName.EVENT_BONUS_GAME_START_CLOSE),cc.tween(this.node).to(.4,{opacity:127.5}).call(function(){return slot.ScoreBase.instance.node.parent=game.UIManager.getInstance().getUI(r.UIID.UI_BONUSGAME).node}).to(.4,{opacity:0}).set({opacity:255}).call(function(){game.UIManager.getInstance().close(o)}).start()},t.prototype.onLoad=function(){this.continueBtn.on(cc.Node.EventType.MOUSE_ENTER,this.mouseEnter,this),this.continueBtn.on(cc.Node.EventType.MOUSE_LEAVE,this.mouseLeave,this)},t.prototype.onDestroy=function(){this.continueBtn.off(cc.Node.EventType.MOUSE_ENTER,this.mouseEnter,this),this.continueBtn.off(cc.Node.EventType.MOUSE_LEAVE,this.mouseLeave,this)},t.prototype.mouseEnter=function(){this.continueBtn.getChildByName("light").active=!0},t.prototype.mouseLeave=function(){this.continueBtn.getChildByName("light").active=!1},a([l(sp.Skeleton)],t.prototype,"skeBack",void 0),a([l(sp.Skeleton)],t.prototype,"skeTop",void 0),a([l(cc.Node)],t.prototype,"container",void 0),a([l(cc.Animation)],t.prototype,"ringAni",void 0),a([l(cc.Node)],t.prototype,"continueBtn",void 0),a([c,u("game/111013601/BonusGameStart111013601")],t)}(slot.BaseView);o.default=p,cc._RF.pop()},{"../base/GameEventName111013601":"GameEventName111013601"}],BonusItem111013601:[function(e,t,o){"use strict";cc._RF.push(t,"ca0eaZKtDBJlryh+7DcCJfb","BonusItem111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0}),o.MOON_ANI=o.CLAW_ANI=o.ITEM_TYPE=void 0;var r,s,c,l=e("../base/GameEventName111013601"),u=cc._decorator,p=u.ccclass,d=u.property;(function(e){e[e.Box=0]="Box",e[e.Claw=1]="Claw",e[e.BlueMoon=2]="BlueMoon",e[e.RedMoon=3]="RedMoon",e[e.YellowMoon=4]="YellowMoon"})(r=o.ITEM_TYPE||(o.ITEM_TYPE={})),function(e){e[e.ScatToClaw=0]="ScatToClaw",e[e.RollEnd=1]="RollEnd",e[e.RecBlueMoonSkill=2]="RecBlueMoonSkill",e[e.RecRedMoonSkill=3]="RecRedMoonSkill",e[e.RecYellowMoonSkill=4]="RecYellowMoonSkill",e[e.EndMulCollect=5]="EndMulCollect"}(s=o.CLAW_ANI||(o.CLAW_ANI={})),function(e){e[e.RollEnd=0]="RollEnd",e[e.Process1=1]="Process1",e[e.Process2=2]="Process2",e[e.Process3=3]="Process3",e[e.Process4=4]="Process4",e[e.Process5=5]="Process5",e[e.RecBlueMoonSkill=6]="RecBlueMoonSkill",e[e.RecRedMoonSkill=7]="RecRedMoonSkill",e[e.RecYellowMoonSkill=8]="RecYellowMoonSkill",e[e.SendSkill=9]="SendSkill",e[e.EndMulCollect=10]="EndMulCollect"}(c=o.MOON_ANI||(o.MOON_ANI={}));var h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.rollLayout=null,t.box=null,t.claw=null,t.blueMoon=null,t.redMoon=null,t.yellowMoon=null,t.gridReward=null,t.itemType=r.Box,t.mul=0,t.processNum=0,t}return i(t,e),t.prototype.itemInit=function(e){this.gridReward=e;var t=e.elem;this.itemType=0==t?r.Box:20==t?r.Claw:21==t?r.BlueMoon:22==t?r.RedMoon:r.YellowMoon,this.mul=Number(e.goldReward)/slot.SpinManager.instance.betCost,this.rollLayout.active=!1,this.box.active=this.itemType==r.Box,this.claw.active=this.itemType==r.Claw,this.blueMoon.active=this.itemType==r.BlueMoon,this.redMoon.active=this.itemType==r.RedMoon,this.yellowMoon.active=this.itemType==r.YellowMoon,this.node.zIndex=this.itemType==r.Box?0:this.itemType==r.Claw?1:2},t.prototype.clawAni=function(e,t){var o=this;void 0===t&&(t=!1);var n=this.claw.getChildByName("claw"),i=this.claw.getChildByName("scat"),a=n.getChildByName("skeBack").getComponent(sp.Skeleton),r=n.getChildByName("skeFront").getComponent(sp.Skeleton),c=n.getChildByName("claw"),l=n.getChildByName("light"),u=n.getChildByName("mul");switch(e){case s.ScatToClaw:n.active=!1,i.active=!0;var p=i.getChildByName("ske1").getComponent(sp.Skeleton),d=i.getChildByName("ske2").getComponent(sp.Skeleton);p.clearTracks(),p.setToSetupPose(),d.clearTracks(),d.setToSetupPose(),this.scheduleOnce(function(){a.clearTracks(),a.setToSetupPose(),r.clearTracks(),r.setToSetupPose(),l.opacity=255,u.opacity=255,u.getComponent(cc.Label).string=o.mul+"x",cc.tween(n).set({active:!0,opacity:0}).to(.8,{opacity:255}).start(),p.setAnimation(0,"scat_b",!1),p.setAnimation(1,"scat_d",!1),d.setAnimation(0,"ps_g_bns",!1),cc.tween(i.getChildByName("scat")).to(.8,{opacity:0}).set({opacity:255,active:!0}).call(function(){return i.active=!1}).start(),t||(slot.SoundMger.instance.stopEffect("Freegame_starts_treasure"),slot.SoundMger.instance.playEffect("Freegame_starts_treasure",!1))},1);break;case s.RollEnd:!t&&slot.SoundMger.instance.playEffect("Free_mode_multiples",!1),this.claw.active=!0,n.active=!0,i.active=!1,a.setAnimation(0,"ps_d",!1),a.setAnimation(1,"ps_e",!1),a.setAnimation(2,"ps_f_loop",!1),r.clearTracks(),r.setToSetupPose(),cc.tween(l).set({opacity:0}).to(.2,{opacity:255}).start(),cc.tween(c).delay(.1).set({scale:.91}).to(.2,{scale:.7}).start(),u.getComponent(cc.Label).string=this.mul+"x",cc.tween(u).set({opacity:255}).to(.1,{scale:1.3}).delay(.3).to(.1,{scale:1}).call(function(){a.clearTracks(),a.setToSetupPose()}).start();break;case s.RecBlueMoonSkill:r.setAnimation(0,"ad_a",!1),r.setAnimation(1,"ad_j",!1),cc.tween(c).set({y:15}).to(.15,{y:0}).start(),cc.Tween.stopAllByTarget(u),u.setPosition(cc.v2(0,0));var h=cc.instantiate(u);n.addChild(h),cc.tween(h).set({opacity:150,x:0,y:30}).to(.3,{opacity:50,y:60}).removeSelf().start(),this.mul++,u.getComponent(cc.Label).string=this.mul+"x",cc.tween(u).set({opacity:150,x:0,y:-30}).to(.3,{opacity:255,y:0}).delay(.3).call(function(){r.clearTracks(),r.setToSetupPose()}).start();break;case s.RecRedMoonSkill:cc.Tween.stopAllByTarget(u),u.setPosition(cc.v2(0,0));var m=cc.instantiate(u);return m.mul=this.mul,m;case s.RecYellowMoonSkill:r.setAnimation(0,"db_j",!1),cc.tween(c).set({y:15}).to(.15,{y:0}).start(),cc.Tween.stopAllByTarget(u),u.setPosition(cc.v2(0,0));var f=cc.instantiate(u);n.addChild(f),cc.tween(f).set({x:0,y:0}).delay(.4).to(.2,{x:-30}).delay(.5).to(.2,{x:0}).removeSelf().start(),cc.tween(u).delay(.4).to(.2,{x:30}).delay(.5).to(.2,{x:0}).set({scale:.8}).delay(.1).set({scale:1.2}).call(function(){o.mul=2*o.mul,u.getComponent(cc.Label).string=o.mul+"x",r.setAnimation(0,"db_k",!1)}).delay(.2).to(.15,{scale:1}).start();break;case s.EndMulCollect:var y=cc.instantiate(u);return u.getComponent(cc.Label).string="",y.mul=this.mul,y}},t.prototype.moonAni=function(e,t,o,n){var i=this;if(void 0===t&&(t=[]),void 0===o&&(o=null),void 0===n&&(n=!1),this.itemType==r.BlueMoon||this.itemType==r.RedMoon||this.itemType==r.YellowMoon){var a=this.itemType==r.BlueMoon?this.blueMoon:this.itemType==r.RedMoon?this.redMoon:this.yellowMoon,l=a.getChildByName("skeBack1").getComponent(sp.Skeleton),u=a.getChildByName("skeBack2").getComponent(sp.Skeleton),p=a.getChildByName("skeFront").getComponent(sp.Skeleton),d=a.getChildByName("moonSke").getComponent(sp.Skeleton),h=this.itemType==r.YellowMoon?a.getChildByName("tmp").getChildByName("moonSke").getComponent(sp.Skeleton):null,m=a.getChildByName("mul"),f=a.getChildByName("psNode").getChildByName("ps").getComponent(cc.ParticleSystem),y=a.getChildByName("process"),_=a.getChildByName("line");switch(n&&e!=c.RollEnd&&(f.resetSystem(),this.itemType==r.YellowMoon&&this.yellowMoon.getComponent(cc.Animation).play()),e){case c.RollEnd:this.box.active=!1,a.active=!0,l.clearTracks(),l.setToSetupPose(),u.node.opacity=0,d.setAnimation(0,"01_idle",!0),h&&h.setAnimation(0,"01_idle",!0),m.opacity=0,m.getComponent(cc.Label).string=this.mul+"x",y.children.forEach(function(e){return e.getChildByName("on").active=!1}),this.processNum=0,this.itemType==r.BlueMoon?(!n&&slot.SoundMger.instance.playEffect("Blue_Moon",!1),this.blueMoon.active=!0,l.setAnimation(0,"ad_b",!0),p.setAnimation(0,"ad_a",!1),p.setCompleteListener(function(){p.setCompleteListener(null),p.setAnimation(0,"ad_c",!0),cc.tween(p.node).set({scale:1.2}).to(.1,{scale:1}).start()}),cc.tween(m).to(.25,{opacity:255,scale:1.2}).to(.1,{scale:1}).start()):this.itemType==r.RedMoon?(!n&&slot.SoundMger.instance.playEffect("Red_Moon",!1),this.redMoon.active=!0,l.setAnimation(0,"ab_b",!0),p.setAnimation(0,"ab_a",!1),p.setCompleteListener(function(){p.setCompleteListener(null),p.setAnimation(0,"ab_c",!0),cc.tween(p.node).set({scale:1.2}).to(.1,{scale:1}).start()}),cc.tween(m).to(.25,{opacity:255,scale:1.2}).to(.1,{scale:1}).start()):this.itemType==r.YellowMoon&&(!n&&slot.SoundMger.instance.playEffect("Yellow_Moon",!1),this.yellowMoon.active=!0,l.setAnimation(0,"db_b",!1),l.setCompleteListener(function(){l.setCompleteListener(null),l.setAnimation(0,"db_a",!0)}),p.setAnimation(0,"db_c",!0),cc.tween(p.node).to(.1,{scale:1.2}).to(.2,{scale:1}).start(),cc.tween(m).to(.1,{opacity:255,scale:1.2}).to(.2,{scale:1}).start(),this.yellowMoon.getComponent(cc.Animation).play());break;case c.Process1:d.setAnimation(0,"02_phase",!1),d.setCompleteListener(function(){d.setCompleteListener(null),d.setAnimation(0,"02_idle",!0),h&&h.setAnimation(0,"02_idle",!0)}),f.resetSystem(),y.children.forEach(function(e,t){return e.getChildByName("on").active=t<1}),this.processNum=1;break;case c.Process2:d.setAnimation(0,"03_phase",!1),d.setCompleteListener(function(){d.setCompleteListener(null),d.setAnimation(0,"03_idle",!0),h&&h.setAnimation(0,"03_idle",!0)}),y.children.forEach(function(e,t){return e.getChildByName("on").active=t<2}),this.processNum=2;break;case c.Process3:d.setAnimation(0,"04_phase",!1),d.setCompleteListener(function(){d.setCompleteListener(null),d.setAnimation(0,"04_idle",!0),h&&h.setAnimation(0,"04_idle",!0)}),y.children.forEach(function(e,t){return e.getChildByName("on").active=t<3}),this.processNum=3;break;case c.Process4:d.setAnimation(0,"05_phase",!1),d.setCompleteListener(function(){d.setCompleteListener(null),d.setAnimation(0,"05_idle",!0),h&&h.setAnimation(0,"05_idle",!0)}),y.children.forEach(function(e,t){return e.getChildByName("on").active=t<4}),this.processNum=4;break;case c.Process5:!n&&slot.SoundMger.instance.playEffect("Moon_multiples_collected",!1),d.setAnimation(0,"06_phase",!1),d.setCompleteListener(function(){d.setCompleteListener(null),d.setAnimation(0,"06_idle",!0),h&&h.setAnimation(0,"06_idle",!0)}),y.children.forEach(function(e,t){return e.getChildByName("on").active=t<5}),this.processNum=5,this.itemType==r.YellowMoon&&(l.setCompleteListener(null),p.setCompleteListener(null),l.setAnimation(0,"db_a",!0)),cc.tween(l.node).to(.3,{scale:1.5}).start(),cc.tween(d.node).set({scale:1.05}).to(.3,{scale:.7}).start(),cc.tween(p.node).set({scale:1.5}).to(.3,{scale:1}).start(),p.setAnimation(0,this.itemType==r.BlueMoon?"ad_f":this.itemType==r.RedMoon?"ab_f":"db_f",!0);var g=this.yellowMoon.getComponent(cc.Animation);g.stop(),g.play("yellowMoon"),g.sample("yellowMoon"),g.stop();break;case c.RecBlueMoonSkill:cc.tween(d.node).set({y:20}).to(.15,{y:0}).start(),cc.Tween.stopAllByTarget(m),m.setPosition(cc.v2(0,0)),p.setAnimation(1,"ad_j",!1),p.setAnimation(2,this.itemType==r.BlueMoon?"ad_f":this.itemType==r.RedMoon?"ab_f":"db_f",!1);var S=cc.instantiate(m);a.addChild(S),cc.tween(S).set({opacity:150,x:0,y:30}).to(.3,{opacity:50,y:60}).removeSelf().start(),this.mul++,m.getComponent(cc.Label).string=this.mul+"x",cc.tween(m).set({opacity:150,x:0,y:-30}).to(.3,{opacity:255,y:0}).delay(.3).call(function(){p.setToSetupPose(),p.clearTracks(),p.setAnimation(0,i.itemType==r.BlueMoon?"ad_c":i.itemType==r.RedMoon?"ab_c":"db_c",!0)}).start();break;case c.RecRedMoonSkill:cc.Tween.stopAllByTarget(m),m.setPosition(cc.v2(0,0));var v=cc.instantiate(m);return v.mul=this.mul,v;case c.RecYellowMoonSkill:cc.tween(d.node).set({y:20}).to(.15,{y:0}).start(),cc.Tween.stopAllByTarget(m),m.setPosition(cc.v2(0,0)),p.setAnimation(1,"db_j",!1),p.setAnimation(2,this.itemType==r.BlueMoon?"ad_f":this.itemType==r.RedMoon?"ab_f":"db_f",!1);var E=cc.instantiate(m);a.addChild(E),cc.tween(E).set({x:0,y:0}).delay(.4).to(.2,{x:-30}).delay(.5).to(.2,{x:0}).removeSelf().start(),cc.tween(m).delay(.4).to(.2,{x:30}).delay(.5).to(.2,{x:0}).set({scale:.8}).delay(.1).set({scale:1.2}).call(function(){i.mul=2*i.mul,m.getComponent(cc.Label).string=i.mul+"x",p.setToSetupPose(),p.clearTracks(),p.setAnimation(0,i.itemType==r.BlueMoon?"ad_c":i.itemType==r.RedMoon?"ab_c":"db_c",!0)}).delay(.2).to(.15,{scale:1}).start();break;case c.EndMulCollect:var T=cc.instantiate(m);return m.getComponent(cc.Label).string="",T.mul=this.mul,T}if(e==c.SendSkill)switch(u.node.opacity=255,this.itemType){case r.BlueMoon:slot.SoundMger.instance.playEffect("Blue_full_moon",!1),this.node.zIndex=3,u.setAnimation(0,"ad_d",!1),p.setAnimation(0,"ad_c",!0),cc.tween(l.node).to(.3,{scale:2}).start(),cc.tween(d.node).delay(.3).to(.2,{scale:.84}).start(),cc.tween(p.node).delay(.3).to(.2,{scale:1.2}).start(),cc.tween(m).delay(.3).to(.2,{scale:1.5}).start(),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Wolf_Launch",!1),slot.SoundMger.instance.setSingleMusicVolume("Free_game_back_music",0);for(var e=a.convertToWorldSpaceAR(cc.v2(0,0)),n=function(n){setTimeout(function(){var h=cc.instantiate(_);h.setPosition(cc.v2(0,0)),a.addChild(h);var g=t[n].node.convertToWorldSpaceAR(cc.v2(0,0)),S=e.sub(g).mag();h.scaleY=S/1200,h.angle=i.getAngle(e,g),slot.SoundMger.instance.playEffect("Blue_Moon_fire",!1),setTimeout(function(){return slot.SoundMger.instance.playEffect("Blue_Moon"+(n<=6?n+1:7),!1)},250);var v=h.getChildByName("skeLine").getComponent(sp.Skeleton);v.setAnimation(0,"ad_h",!1),v.setCompleteListener(function(){v.setCompleteListener(null),h.removeFromParent(),i.shakeView()}),0==n&&p.setAnimation(1,"ab_g_universal",!1),setTimeout(function(){t[n].itemType==r.Claw?t[n].clawAni(s.RecBlueMoonSkill):t[n].moonAni(c.RecBlueMoonSkill),p.setAnimation(1,"ab_e_universal",!1)},200),cc.Tween.stopAllByTarget(m),cc.tween(m).to(.1,{scale:1.3}).to(.1,{scale:1.5}).start(),n==t.length-1&&(p.setAnimation(1,"ab_g_universal",!1),cc.Tween.stopAllByTarget(m),cc.tween(m).to(.2,{scale:1}).start(),cc.tween(l.node).to(.2,{scale:1}).start(),cc.tween(d.node).delay(.2).to(.3,{scale:.7}).call(function(){d.setAnimation(0,"01_idle",!1),y.children.forEach(function(e){return e.getChildByName("on").active=!1}),i.processNum=-1}).start(),cc.tween(p.node).delay(.2).to(.3,{scale:1}).call(function(){p.setToSetupPose(),p.clearTracks(),p.setAnimation(0,"ad_c",!0),f.stopSystem()}).start(),cc.tween(u.node).delay(.2).to(.8,{opacity:0}).call(function(){i.node.zIndex=2,slot.SoundMger.instance.stopEffect("Wolf_Launch"),slot.SoundMger.instance.setSingleMusicVolume("Free_game_back_music",1),o&&o.run()}).start())},200*n)},h=0;h<t.length;h++)n(h)},.5);break;case r.RedMoon:slot.SoundMger.instance.playEffect("Red_full_moon",!1),this.node.zIndex=3,u.setAnimation(0,"ab_d",!1),p.setAnimation(0,"ab_c",!0),cc.tween(l.node).to(.3,{scale:2}).start(),cc.tween(d.node).delay(.3).to(.2,{scale:.84}).start(),cc.tween(p.node).delay(.3).to(.2,{scale:1.2}).start(),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Wolf_Launch",!1),slot.SoundMger.instance.setSingleMusicVolume("Free_game_back_music",0);for(var e=a.convertToWorldSpaceAR(cc.v2(0,0)),n=function(n){setTimeout(function(){var h=cc.instantiate(_);h.setPosition(cc.v2(0,0)),a.addChild(h);var g=t[n].node.convertToWorldSpaceAR(cc.v2(0,0)),S=e.sub(g).mag();h.scaleY=S/1200,h.angle=i.getAngle(e,g),setTimeout(function(){return slot.SoundMger.instance.playEffect("Red_Moon"+(n<=6?n+1:7),!1)},500);var v=h.getChildByName("skeLine").getComponent(sp.Skeleton);v.setAnimation(0,"ab_h",!1),v.setCompleteListener(function(){v.setCompleteListener(null),h.removeFromParent(),i.shakeView()}),0==n&&p.setAnimation(1,"ab_g_universal",!1);var E=t[n].itemType==r.Claw?t[n].clawAni(s.RecRedMoonSkill):t[n].moonAni(c.RecRedMoonSkill);E.setPosition(a.convertToNodeSpaceAR(g)),a.addChild(E),cc.tween(E).set({scale:1.5}).to(.2,{scale:.5,x:0,y:0}).call(function(){0==n&&p.setAnimation(1,"ab_e_universal",!1);var e=cc.instantiate(m);a.addChild(e),cc.tween(e).set({opacity:255,x:0,y:0}).to(.2,{opacity:50,y:30}).removeSelf().start(),i.mul+=Number(E.mul),m.getComponent(cc.Label).string=i.mul+"x",cc.tween(m).set({opacity:0,x:0,y:-30}).to(.2,{opacity:255,y:0}).start()}).removeSelf().start(),n==t.length-1&&(p.setAnimation(1,"ab_g_universal",!1),cc.tween(l.node).to(.2,{scale:1}).start(),cc.tween(d.node).delay(.2).to(.3,{scale:.7}).call(function(){d.setAnimation(0,"01_idle",!1),y.children.forEach(function(e){return e.getChildByName("on").active=!1}),i.processNum=-1}).start(),cc.tween(p.node).delay(.2).to(.3,{scale:1}).call(function(){p.setToSetupPose(),p.clearTracks(),p.setAnimation(0,"ab_c",!0),f.stopSystem()}).start(),cc.tween(u.node).delay(.2).to(.8,{opacity:0}).call(function(){i.node.zIndex=2,slot.SoundMger.instance.stopEffect("Wolf_Launch"),slot.SoundMger.instance.setSingleMusicVolume("Free_game_back_music",1),o&&o.run()}).start())},200*n)},h=0;h<t.length;h++)n(h)},.5);break;case r.YellowMoon:slot.SoundMger.instance.playEffect("Yellow_full_moon",!1),this.node.zIndex=3;var b=a.getChildByName("fire");u.setAnimation(0,"db_d",!1),p.setAnimation(0,"db_c",!0),cc.tween(l.node).to(.3,{scale:2}).start(),cc.tween(d.node).delay(.3).to(.2,{scale:.84}).start(),cc.tween(p.node).delay(.3).to(.2,{scale:1.2}).start(),this.scheduleOnce(function(){slot.SoundMger.instance.playEffect("Wolf_Launch",!1),slot.SoundMger.instance.setSingleMusicVolume("Free_game_back_music",0);for(var e=a.convertToWorldSpaceAR(cc.v2(0,0)),n=function(n){setTimeout(function(){var h=t[n].node.convertToWorldSpaceAR(cc.v2(0,0)),g=e.sub(h).mag(),S=i.getAngle(e,h),v=cc.instantiate(b);v.setPosition(cc.v2(0,0)),a.addChild(v),v.scaleY=g/300,v.angle=S;var E=cc.instantiate(_);E.setPosition(cc.v2(0,0)),a.addChild(E),E.scaleY=g/1200,E.angle=S;var T=v.getChildByName("skeFire").getComponent(sp.Skeleton);T.setAnimation(0,"db_i",!1),T.setCompleteListener(function(){T.setCompleteListener(null),v.removeFromParent()}),setTimeout(function(){var e=E.getChildByName("skeLine").getComponent(sp.Skeleton);e.setAnimation(0,"db_h",!1),e.setCompleteListener(function(){e.setCompleteListener(null),E.removeFromParent()})},100),slot.SoundMger.instance.playEffect("Yellow_Moon_fire",!1),i.shakeView(),0==n&&p.setAnimation(1,"ab_g_universal",!1),setTimeout(function(){slot.SoundMger.instance.playEffect("Yellow_Moon_Fusion",!1),t[n].itemType==r.Claw?t[n].clawAni(s.RecYellowMoonSkill):t[n].moonAni(c.RecYellowMoonSkill),p.setAnimation(1,"ab_e_universal",!1)},200),cc.Tween.stopAllByTarget(m),cc.tween(m).to(.1,{scale:1.5}).delay(.1).to(.1,{scale:1}).start(),n==t.length-1&&(p.setAnimation(1,"ab_g_universal",!1),cc.tween(d.node).delay(.2).to(.3,{scale:.7}).call(function(){d.setAnimation(0,"01_idle",!1),y.children.forEach(function(e){return e.getChildByName("on").active=!1}),i.processNum=-1}).start(),cc.tween(l.node).to(.2,{scale:1}).start(),cc.tween(p.node).delay(.2).to(.3,{scale:1}).call(function(){p.setToSetupPose(),p.clearTracks(),p.setAnimation(0,"db_c",!0),f.stopSystem()}).start(),cc.tween(u.node).delay(.2).to(.8,{opacity:0}).delay(.8).call(function(){i.node.zIndex=2,slot.SoundMger.instance.stopEffect("Wolf_Launch"),slot.SoundMger.instance.setSingleMusicVolume("Free_game_back_music",1),o&&o.run()}).start())},1500*n)},h=0;h<t.length;h++)n(h)},.5)}}},t.prototype.shakeMul=function(){var e=null;this.itemType==r.Claw?e=this.claw.getChildByName("claw").getChildByName("mul"):this.itemType==r.BlueMoon?e=this.blueMoon.getChildByName("mul"):this.itemType==r.RedMoon?e=this.redMoon.getChildByName("mul"):this.itemType==r.YellowMoon&&(e=this.yellowMoon.getChildByName("mul")),e&&cc.tween(e).to(.04,{x:0,y:-2}).to(.04,{x:2,y:0}).to(.04,{x:0,y:2}).to(.04,{x:-2,y:0}).union().repeatForever().start()},t.prototype.rollStart=function(e){var t=this,o=e.elem,n=0==o?r.Box:20==o?r.Claw:21==o?r.BlueMoon:22==o?r.RedMoon:r.YellowMoon,i=Number(e.goldReward)/slot.SpinManager.instance.betCost;this.box.active=!1,this.rollLayout.active=!0,this.rollLayout.children.forEach(function(e,o){var a=e.getChildByName("img").getComponent(cc.Sprite),s=e.getChildByName("mul").getComponent(cc.Label);if(s.string="",0==o);else if(o==t.rollLayout.children.length-1)a.spriteFrame=slot.SlotGameManager.instance.getCardByName(n==r.Box?"s_block_blur":n==r.Claw?"s_price_blur":n==r.BlueMoon?"s_adder_0_blur":n==r.RedMoon?"s_absorber_0_blur":"s_doubler_0_blur"),n==r.Claw&&(s.string="x"+i);else{var c=Math.random(),l="s_block_blur";.5<c&&c<=.76?(l="s_price_blur",s.string="x"+Math.ceil(3*Math.random())):.76<c&&c<=.84?l="s_adder_"+Math.floor(6*Math.random())+"_blur":.84<c&&c<=.92?l="s_absorber_"+Math.floor(6*Math.random())+"_blur":.92<c&&(l="s_doubler_"+Math.floor(6*Math.random())+"_blur"),a.spriteFrame=slot.SlotGameManager.instance.getCardByName(l)}}),cc.tween(this.rollLayout).to(1.5,{y:-1509.2}).call(function(){t.rollLayout.y=0,t.rollLayout.active=!1,t.rollEnd(e)}).start()},t.prototype.moonProcessAdd=function(){this.itemType!=r.BlueMoon&&this.itemType!=r.RedMoon&&this.itemType!=r.YellowMoon||(this.processNum++,0<this.processNum&&this.processNum<6&&this.moonAni(this.processNum))},t.prototype.rollEnd=function(e,t){switch(void 0===t&&(t=!1),this.itemInit(e),this.itemType){case r.Box:this.box.active=!0;break;case r.Claw:this.clawAni(s.RollEnd,t);break;case r.BlueMoon:case r.RedMoon:case r.YellowMoon:this.moonAni(c.RollEnd,[],null,t);var o=Number(e.functionArg)-1;0<o&&o<6&&this.moonAni(o)}!t&&this.itemType!=r.Box&&game.EventManager.getInstance().raiseEvent(l.EventName.EVENT_BONUS_GAME_TIME_RESET)},t.prototype.getAngle=function(e,t){var o=t.x-e.x,n=t.y-e.y;return-cc.v2(o,n).signAngle(cc.v2(0,1))/Math.PI*180},t.prototype.shakeView=function(){var e=this.node.parent.parent;cc.Tween.stopAllByTarget(e),cc.tween(e).to(.04,{position:cc.v3(0,-5)}).to(.04,{position:cc.v3(5,0)}).to(.04,{position:cc.v3(0,5)}).to(.04,{position:cc.v3(-5,0)}).to(.02,{position:cc.v3(0,0)}).start()},a([d(cc.Node)],t.prototype,"rollLayout",void 0),a([d(cc.Node)],t.prototype,"box",void 0),a([d(cc.Node)],t.prototype,"claw",void 0),a([d(cc.Node)],t.prototype,"blueMoon",void 0),a([d(cc.Node)],t.prototype,"redMoon",void 0),a([d(cc.Node)],t.prototype,"yellowMoon",void 0),a([p],t)}(cc.Component);o.default=h,cc._RF.pop()},{"../base/GameEventName111013601":"GameEventName111013601"}],CommonNumAtlas111013601:[function(e,t,o){"use strict";cc._RF.push(t,"802f2Oj0wxEjanmrePeJtoV","CommonNumAtlas111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s],t)}(slot.CommonNumAtlasBase));o.default=c,cc._RF.pop()},{}],GameBg111013601:[function(e,t,o){"use strict";cc._RF.push(t,"597fcE2jUVAnZlW9rkQGMfA","GameBg111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.resize.call(this)},t.prototype.layoutLandscape=function(){},t.prototype.layoutPortrait=function(){},t.prototype.onDestroy=function(){},a([s],t)}(slot.BaseView));o.default=c,cc._RF.pop()},{}],GameEventName111013601:[function(e,t,o){"use strict";var n,i;cc._RF.push(t,"ca65fGvksNAQrdlFI+FdLPW","GameEventName111013601"),Object.defineProperty(o,"__esModule",{value:!0}),o.UICF=o.UIID=o.EventName=void 0,function(e){e.EVENT_BONUS_GAME_START_CLOSE="EVENT_BONUS_GAME_START_CLOSE",e.EVENT_BONUS_GAME_END_CLOSE="EVENT_BONUS_GAME_END_CLOSE",e.EVENT_BONUS_GAME_TIME_RESET="EVENT_BONUS_GAME_TIME_RESET"}(o.EventName||(o.EventName={})),function(e){e[e.UI_BONUSGAMESTART=210101]="UI_BONUSGAMESTART",e[e.UI_BONUSGAMEEND=210102]="UI_BONUSGAMEEND",e[e.UI_BONUSGAME=210103]="UI_BONUSGAME"}(i=o.UIID||(o.UIID={})),o.UICF=((n={})[i.UI_BONUSGAMESTART]={bundleName:"game_111013601",path:"prefabs/bonusGame/bonusGameStart",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_ADDITION,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:slot.LayerManage.tip+1,preventTouchOpacity:0},n[i.UI_BONUSGAMEEND]={bundleName:"game_111013601",path:"prefabs/bonusGame/bonusGameEnd",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_ADDITION,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:slot.LayerManage.tip+1,preventTouchOpacity:0},n[i.UI_BONUSGAME]={bundleName:"game_111013601",path:"prefabs/bonusGame/bonusGame",preventKeyboard:!0,preventTouch:!0,quickClose:!1,cache:!0,showType:game.UIShowTypes.UI_ADDITION,openAni:game.UIDefAni.UI_OPEN,closeAni:game.UIDefAni.UI_CLOSE,zOrder:slot.LayerManage.tip,preventTouchOpacity:0,loadingAni:!1},n),cc._RF.pop()},{}],GameLayer111013601:[function(e,t,o){"use strict";cc._RF.push(t,"03dfd0k2WFPcJVsFSNgFaM+","GameLayer111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r},r=this&&this.__spreadArrays||function(){for(var e=0,t=0,o=arguments.length;t<o;t++)e+=arguments[t].length;var n=Array(e),i=0;for(t=0;t<o;t++)for(var a=arguments[t],r=0,s=a.length;r<s;r++,i++)n[i]=a[r];return n};Object.defineProperty(o,"__esModule",{value:!0});var s=e("./scrollerSkins/JTChildManager111013601"),c=e("./scrollerSkins/JTLayerManager111013601"),l=e("./scrollerSkins/JTLogicFactroy111013601"),u=e("../score/ScoreControl111013601"),p=e("../base/GameEventName111013601"),d=e("./scrollerSkins/JTScatterTask111013601"),h=cc._decorator,m=h.ccclass,f=h.property,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.runfast=null,t.scoreControlSrc=null,t.scatterWaitLight=null,t.blackLayer=null,t.elemPayBlackLayer=null,t.scatShowLayer=null,t.itemBelowPrefab=null,t.itemAbovePrefab=null,t.bScrolling=!1,t.scatCnt=0,t.isImmediatelyStop=!1,t.bonusRecovery=!1,t.closeLoadingView=!1,t.runfastSoundIndex=0,t.scatterTask=null,t.wildTask=null,t.scroller=null,t}var o;return i(t,e),o=t,Object.defineProperty(t,"instance",{get:function(){return this._instance},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){slot.SlotConfigManager.instance.registerJPTypes(3),e.prototype.onLoad.call(this),o._instance=this,game.EventManager.getInstance().addEventListener(slot.NetSlotConst.RESTORERESP,this.restoreResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.elemDropEnd,this)},t.prototype.onDestroy=function(){e.prototype.onDestroy.call(this),this.dispose()},t.prototype.addEventListener=function(){e.prototype.addEventListener.call(this),game.EventManager.getInstance().addEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onSpinBtnClick,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onShowElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onHideElementView,this),game.EventManager.getInstance().addEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.clickImmediatelyStop,this),game.EventManager.getInstance().addEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.enterGame,this),game.EventManager.getInstance().addEventListener(p.EventName.EVENT_BONUS_GAME_END_CLOSE,this.bonusGameEndClose,this)},t.prototype.removeEventListener=function(){e.prototype.removeEventListener.call(this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.RESTORERESP,this.restoreResp,this),game.EventManager.getInstance().removeEventListener(slot.NetSlotConst.SPINRESP,this._onRollingResp,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_PLAYER_CLICKED_SINGLE_START_BTN,this.onSpinBtnClick,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_SHOW,this.onShowElementView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_ELEMENT_PAY_ID_HIDE,this.onHideElementView,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_STOP_SLOT_MACHINE_IMMEDIATELY,this.clickImmediatelyStop,this),game.EventManager.getInstance().removeEventListener(slot.CommonEventNames.EVENT_CLOSE_LOADING_VIEW,this.enterGame,this),game.EventManager.getInstance().removeEventListener(slot.GameEventNames.EVENT_NEW_ELEMDROP_DROPEND,this.elemDropEnd,this),game.EventManager.getInstance().removeEventListener(p.EventName.EVENT_BONUS_GAME_END_CLOSE,this.bonusGameEndClose,this)},t.prototype.enterGame=function(){cc.log("GameLayer enterGame nowGameType="+slot.SpinManager.instance.nowGameType),this.scheduleOnce(function(){if(slot.BonusGameManager.instance.isTreateNewBonus)slot.SoundMger.instance.playMusic("Free_game_back_music",!0);else{var e=function(){return slot.SoundMger.instance.playMusic("Game_Back_Music2",!1,t)},t=function(){return slot.SoundMger.instance.playMusic("Game_Back_Music3",!1,e)};slot.SoundMger.instance.playEffect("Game_Back_Music1",!1),setTimeout(function(){return e()},5e3)}},.1),this.closeLoadingView=!0},t.prototype.restoreResp=function(e,t){if(cc.log("GameLayer restoreResp resp=",t),t&&t.state&&t.state.state==slot.OperationState.BonusGame)this.bonusRecovery=!0;else if(t&&t.state&&t.state.state==slot.OperationState.Normal&&t.state.normalData){var o=Number(t.state.normalData.spinInfo.spinResult.spinCoin);0==o&&(o=Number(t.state.normalData.sumLgCoin)),o>0?this.scoreControlSrc.totalWinScore(o,null,1):this.scoreControlSrc.reset()}},t.prototype._onRollingResp=function(){cc.log("\u8bbe\u7f6e\u81ea\u5b9a\u4e49\u7ed3\u679c\uff08\u9002\u7528\u4e8e\u6d88\u9664\u7c7b)----------------:",slot.SpinManager.instance.customUpdateData.game_10017.data.resultList)},t.prototype.onInit=function(){slot.SpinManager.instance.isFullLineAvailable=!1,this._initSlotMachineView(),slot.SpinManager.customResultCallBack=function(){return slot.SpinManager.instance.customUpdateData.game_10017.data.resultList}},t.prototype.initSlotMachineComplete=function(){e.prototype.initSlotMachineComplete.call(this)},t.prototype.onInitScroller=function(e){var t=this,o=this.scroller=e.scroller,n=slot.SlotConfigManager.instance.DataGame.getData(slot.SlotConfigManager.instance.gameID);o.setupFactory(new c.default,new s.default,new l.default);var i=o.options(slot.JTEliminatePipeline,slot.JTScrollerGroup.USE_CONVERT_MROE_LIST,n.column,e.scrollingComplete);i.childOption(slot.JTCreateScrolling,slot.JTOptionType.OPTION_CREATE),i.childOption(slot.JTBeginScrolling,slot.JTOptionType.OPTION_BEGIN_RUNNING,e.beginScrolling),i.childOption(slot.JTRunScrolling,slot.JTOptionType.OPTION_RUNNING,e.onSpinPreStop),i.childOption(slot.JTOverScrollEliminate,slot.JTOptionType.OPTION_OVER_RUNNING,e.scrollingProgress),o.setupDefaultItemList(this.getSourceList,slot.SlotConfigManager.instance.DataElement.getKeys(),!1),this.scatterTask=new d.default,this.scatterTask.onScatterComplte=function(e){5==e.index&&t.runfastStop()},this.scatterTask.config(11,3,"5-50-10",0,1e3,"",!0,null,function(e){if(t.runfast.active)t.getRenders(e.index-1).forEach(function(e){return e.playScatAni(4)}),t.updateScatLayer(e.index-1);else{t.scoreControlSrc.showScatterWait(!1);for(var o=0;o<e.index;o++)t.getRenders(o).forEach(function(e){return e.playScatAni(4)}),t.updateScatLayer(o);game.SoundManager.getInstance().setMusicVolume(0),cc.tween(t.runfast).set({active:!0,opacity:0}).to(.2,{opacity:255}).start(),slot.SpinManager.instance.isInTurbo&&(t.scatCnt=3,slot.SoundMger.instance.playEffect("SCATTER_Appear3"))}slot.SoundMger.instance.stopEffect("Reel_Spin"),t.runfast.x=t.slotMachine.gridWidth*(e.index+.5),t.runfast.y=-343,t.runfast.getChildByName("ske2").getComponent(sp.Skeleton).setAnimation(0,"gzk_fs_a",!1),0!=t.runfastSoundIndex&&slot.SoundMger.instance.stopEffect("Reel_Quick"+t.runfastSoundIndex),t.runfastSoundIndex++,slot.SoundMger.instance.playEffect("Reel_Quick"+t.runfastSoundIndex,!1),5==e.index&&setTimeout(function(){return slot.SoundMger.instance.playEffect("Reel_Quick6",!1)},2e3),cc.tween(slot.MainView.instance.node).to(4,{scale:1.04}).to(6,{scale:1.06}).start()}),o.registerTask(slot.JTRuleTaskManager.TYPE_SCATTER,this.scatterTask,new slot.JTTaskContainer),slot.EliminateEffectUtils.elePlayAni=slot.Handler.create(this,this.elemPlayAni,[],!1)},t.prototype.runfastStop=function(){if(255==this.runfast.opacity){cc.tween(this.runfast).to(.2,{opacity:0}).set({active:!1}).start();for(var e=1;e<7;e++)slot.SoundMger.instance.stopEffect("Reel_Quick"+e);game.SoundManager.getInstance().setMusicVolume(1),this.scoreControlSrc.hideScatterWait(1),this.resetScatLayer(),this.getRenders(-1).forEach(function(e){return e.playScatAni(6)}),cc.Tween.stopAllByTarget(slot.MainView.instance.node),slot.MainView.instance.node.scale=1}},t.prototype._initSlotMachineView=function(){slot.EliminateEffectUtils.setup(1500,0,0,.1,0,0,0,0,.1),this.slotMachine.spaceX=0,this.slotMachine.spaceY=0,this.slotMachine.gridWidth=122.5,this.slotMachine.gridHeight=137.2,this.slotMachine.afterRender(this,this._rederAfter),this.slotMachine.onItemRender(this,this._onSpinSlotRender),this._registerSlotMachineAnimation()},t.prototype._rederAfter=function(){slot.SpinManager.instance.spinTouchEnable=!0,this.slotMachine.scroller.adjustScrollerPostion(0,cc.v2(0,-68.6)),this.slotMachine.scroller.adjustScrollerPostion(5,cc.v2(0,-68.6)),this.getRenders(-1).forEach(function(e){return e.playIdleAni()}),slot.SlotMachineView.instance.scroller.layerSortScatterPlayContainer.resetLayerSort();var e=slot.SlotMachineView.instance.scroller.blackBackGround;cc.Tween.stopAllByTarget(e),e.opacity=0,e.active=!1,!slot.BonusGameManager.instance.isTreateNewBonus&&this.updateScatLayer(),this.runfast.parent=slot.SlotMachineView.instance.scroller.getChildByName("runfastLayout"),this.blackLayer.parent=slot.SlotMachineView.instance.scroller.blackBackGround},t.prototype._registerSlotMachineAnimation=function(){this.slotMachine.onContinuousNotWinAnimation(this,this._playContinuousNotWinAnimation),this.slotMachine.onNormalRewardsAnimation(this,this._playNormalRewardsAnimation),this.slotMachine.onFullLineAnimation(this,this._playFullLineAnimation),this.slotMachine.onGreatRewardsAnimation(this,this._playGreatRewardsAnimation),this.slotMachine.onMiddleRewardsAnimation(this,this._playMiddleRewardsAnimation),this.slotMachine.onSmallRewardsAnimation(this,this._playSmallRewardsAnimation),this.slotMachine.onSpinBegin(this,this._onSpinBegin),this.slotMachine.onSpinStart(this,this._onSpinStart),this.slotMachine.onSpinStop(this,this._onSpinStop),this.slotMachine.onSpinComplete(this,this._onSpinComplete)},t.prototype._onSpinBegin=function(){this.bScrolling=!0,this.scoreControlSrc.reset(),this.scatCnt=0,this.isImmediatelyStop=!1,this.runfastSoundIndex=0,this.resetScatLayer()},t.prototype._onSpinStart=function(){},t.prototype._onSpinStop=function(e,t,o){if(this.bScrolling&&e<6&&!o){var n=slot.SpinManager.instance.isInTurbo;0==Number(slot.SpinManager.instance.rollingResult.spinResult.spinCoin)?n?0==this.runfastSoundIndex&&5==e&&(this.playScatSound(-1),slot.SoundMger.instance.playEffect("Click_Reel_Stop_1")):(this.playScatSound(e),slot.SoundMger.instance.playEffect("Reel_Stop_1")):n||(this.playScatSound(e),slot.SoundMger.instance.playEffect("Reel_Stop_1")),n&&this.runfastSoundIndex>1&&(this.playScatSound(e),slot.SoundMger.instance.playEffect("Reel_Stop_1"))}},t.prototype._onSpinComplete=function(){this.scatterWaitLight.active=!1,this.updateScatLayer()},t.prototype._playContinuousNotWinAnimation=function(e,t){t.run()},t.prototype._playNormalRewardsAnimation=function(e,t){this.showWinAni(slot.WinAniType.Normal,e,t)},t.prototype._playFullLineAnimation=function(e,t){t.run()},t.prototype._playGreatRewardsAnimation=function(e,t){this.showWinAni(slot.WinAniType.Great,e,t)},t.prototype._playMiddleRewardsAnimation=function(e,t){this.showWinAni(slot.WinAniType.Middle,e,t)},t.prototype._playSmallRewardsAnimation=function(e,t){this.showWinAni(slot.WinAniType.Small,e,t)},t.prototype.showWinAni=function(e,t,o){var n=this,i=this.getRenders(-1).filter(function(e){return 12<=e.data&&e.data<=19});e==slot.WinAniType.Normal?this.scoreControlSrc.collectMul(i,slot.Handler.create(this,function(){n.scoreControlSrc.totalWinScore(t,o,2),n.showWinAniView(e,t,null)})):this.scoreControlSrc.collectMul(i,slot.Handler.create(this,function(){n.shakeMainView(),n.showWinAniView(e,t,slot.Handler.create(n,function(){return n.scoreControlSrc.totalWinScore(t,o,3)}))}))},t.prototype._onSpinSlotRender=function(){},t.prototype.onSpinBtnClick=function(){cc.log("------onSpinBtnClick")},t.prototype.elemDropEnd=function(){if(this.scroller.ruleTaskManager.getRuleTask(slot.JTRuleTaskType.SCATTER).isRunning){slot.SoundMger.instance.playEffect("Another_drops"),this.shakeMainView();for(var e=this.scatterWaitLight.children,t=0;t<e.length;t++)if(0!=t&&255==e[t].opacity){cc.tween(e[t]).set({opacity:254}).to(.2,{opacity:0}).start();break}}else slot.SoundMger.instance.playEffect("Roller_drops_after_elimination")},t.prototype.shakeMainView=function(){cc.Tween.stopAllByTarget(slot.MainView.instance.node),cc.tween(slot.MainView.instance.node).to(.04,{position:cc.v3(0,-5)}).to(.04,{position:cc.v3(5,0)}).to(.04,{position:cc.v3(0,5)}).to(.04,{position:cc.v3(-5,0)}).to(.02,{position:cc.v3(0,0)}).start()},t.prototype.clickImmediatelyStop=function(){cc.log("clickImmediatelyStop \u70b9\u51fb\u6025\u505c"),this.runfastStop(),this.isImmediatelyStop||(this.isImmediatelyStop=!0,this.playScatSound(-1),slot.SoundMger.instance.playEffect("Click_Reel_Stop_1"))},t.prototype.playScatSound=function(e){var t=slot.SpinManager.instance.rollingResult.spinResult.grid,o=5*e,n=5*e+5;-1==e&&(o=0,n=29,this.scatCnt=0);for(var i=0,a=o;a<n;a++)4!=a&&29!=a&&11==t[a]&&i++;i>0&&(this.scatCnt+=i,this.scatCnt>5&&(this.scatCnt=5),slot.SoundMger.instance.playEffect("SCATTER_Appear"+this.scatCnt))},t.prototype.onHideElementView=function(){cc.Tween.stopAllByTarget(this.elemPayBlackLayer),cc.tween(this.elemPayBlackLayer).to(.35,{opacity:0}).set({active:!1}).start()},t.prototype.onShowElementView=function(e,t,o,n,i,a){cc.Tween.stopAllByTarget(this.elemPayBlackLayer),cc.tween(this.elemPayBlackLayer).set({active:!0}).to(.35,{opacity:180}).start();var r=this.getRenders(-1).find(function(e){return e.index==o}),s=(arguments[4],arguments[5]),c=s.getChildByName("bg");s.getChildByName("elementImage"),c.height=11==r.data?230:200},t.prototype.elemPlayAni=function(e,t,o,n){var i=this;cc.log("gameLayer elemPlayAni items=",e),cc.log("gameLayer elemPlayAni result=",n);var a=slot.SpinManager.instance.isInTurbo;this.bScrolling&&(this.bScrolling=!1,this.isImmediatelyStop||(this.playScatSound(a?this.runfastSoundIndex>0?5:-1:5),slot.SoundMger.instance.playEffect(a?"Click_Reel_Stop_1":"Reel_Stop_1"))),this.scatterWaitLight.active=!1;var r=slot.SpinManager.instance.customUpdateData.game_10017.data.resultList[n.index],s=Number(r.spinResult.spinCoin);e.forEach(function(e){return setTimeout(function(){return e.playWinSelAni()},50*Math.floor(e.index/5))}),slot.SlotMachineView.instance.scroller.updateChangedChildsLayer(e,!0);var c=slot.SlotMachineView.instance.scroller.blackBackGround;cc.Tween.stopAllByTarget(c),cc.tween(c).set({active:!0,opacity:0}).to(.25,{opacity:255}).start(),this.scheduleOnce(function(){e.forEach(function(e){return e.playWinBoomAni()}),cc.tween(c).to(.4,{opacity:0}).set({active:!1}).start()},1.2),this.scoreControlSrc.oneElemWinScore(s);var l=this.scroller.ruleTaskManager.getRuleTask(slot.JTRuleTaskType.SCATTER);l.isRunning=!1;var u=this.getRenders(-1).filter(function(e){return 11==e.data});if(u.length>=3){l.isRunning=!0,slot.EliminateEffectUtils.scatterDopGapTime=.5*(a?2:1),slot.EliminateEffectUtils.scatterWaitDropTime=3.6*(a?2:1);var p=[0,0,0,0,0,0];e.forEach(function(e){return p[Math.floor(e.index/5)]++}),this.scheduleOnce(function(){slot.SlotMachineView.instance.scroller.layerSortScatterPlayContainer.updateChangedChildsLayer(u,!0),u.forEach(function(e){return e.playScatAni(5)}),i.updateScatLayer(),slot.SoundMger.instance.playEffect("Another_treasure_hunt",!1),cc.Tween.stopAllByTarget(c),cc.tween(c).set({active:!0,opacity:0}).to(.5,{opacity:255}).delay(1.3).to(.5,{opacity:0}).set({active:!1}).start();var e=0;i.scatterWaitLight.active=!0,i.scatterWaitLight.children.forEach(function(t,o){o>0&&p[o-1]>0&&(setTimeout(function(){cc.tween(t).to(.2,{opacity:255}).start(),t.getComponent(sp.Skeleton).setAnimation(0,"gzk_sd_b",!0)},100*e),e++)}),i.scoreControlSrc.showScatterWait(!0),setTimeout(function(){i.resetScatLayer(),slot.SlotMachineView.instance.scroller.layerSortScatterPlayContainer.resetLayerSort(),u.forEach(function(e){return e.playScatAni(6)}),setTimeout(function(){return i.scoreControlSrc.hideScatterWait(2)},o?500*e:0),slot.SoundMger.instance.stopEffect("Another_treasure_hunt"),slot.SoundMger.instance.stopEffect("Another_treasure_hunt_waiting")},3e3)},3)}this.scheduleOnce(function(){slot.SlotMachineView.instance.scroller.resetLayerSort(),c.active=!1,t.run()},1.6)},t.prototype.refreshRoom=function(){for(var t=[],o=0;o<arguments.length;o++)t[o]=arguments[o];e.prototype.refreshRoom.call(this)},t.prototype.getRenders=function(e){var t=this.slotMachine.scroller.items,o=[];return t.forEach(function(e){var t=e.renders;o.push.apply(o,t)}),r(-1===e?o:o.slice(5*e,5*e+5))},t.prototype.onScrollerFlowComplete=function(){},t.prototype.onResumeFreeGame=function(){cc.log("onResumeFreeGame...")},t.prototype.bonusGameEndClose=function(e,t){this.scoreControlSrc.totalWinScore(t,null,4)},t.prototype.getScats=function(e){return this.getRenders(e).filter(function(e){return 11==e.data&&(0==e.index||3==e.index||5==e.index||9==e.index||10==e.index||14==e.index||15==e.index||19==e.index||20==e.index||24==e.index||25==e.index||28==e.index)})},t.prototype.updateScatLayer=function(e){var t=this;void 0===e&&(e=-1),this.getScats(e).forEach(function(e){var o=e.skinLoader;o.parent!=t.scatShowLayer&&(o.srcParent=o.parent,o.srcPosition=o.position,o.SrcSiblingIndex=o.getSiblingIndex(),o.setPosition(t.scatShowLayer.convertToNodeSpaceAR(o.convertToWorldSpaceAR(cc.v2()))),o.parent=t.scatShowLayer)})},t.prototype.resetScatLayer=function(e){var t=this;void 0===e&&(e=-1),this.getScats(e).forEach(function(e){var o=e.skinLoader;o.parent==t.scatShowLayer&&(o.parent=o.srcParent,o.setPosition(o.srcPosition),o.setSiblingIndex(o.SrcSiblingIndex))})},t.prototype.addFreeSpinsAni=function(e,t,o){cc.log("FreeGame addFreeSpinsAni freeGameInfo=",t),o.run()},t.prototype.onInitFreeGame=function(e,t){switch(cc.log("FreeGame onInitFreeGame----",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}t.runWith(!0)},t.prototype.onFreeGameTriggered=function(e,t){switch(cc.log("FreeGame onFreeGameTriggered",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}t.run()},t.prototype.onFreeGameInfoUpdated=function(e){switch(cc.log("FreeGame onFreeGameInfoUpdated",e),e.type){case slot.OperationState.Free:case slot.OperationState.ReSpin:}},t.prototype.onFreeGameOver=function(e,t){cc.log("FreeGame onFreeGameOver--",e),t.run()},t.prototype.onFreeGameTriggerAgain=function(e,t){cc.log("FreeGame \u514d\u8d39\u4e2d\u514d\u8d39--",e),t.run()},t.prototype.onFreeGameTimesUpdated=function(e){cc.log("FreeGame \u514d\u8d39\u6e38\u620f\u6b21\u6570\u66f4\u65b0\u4e86",e)},t.prototype.onBonusGameTriggered=function(e,t){var o=this;if(cc.log("onBonusGame \u89e6\u53d1\u4e86\u5c0f\u6e38\u620f bonusRecovery="+this.bonusRecovery+",bonusGameInfo=",e),this.bonusRecovery)this.bonusRecovery=!1,game.UIManager.getInstance().open(p.UIID.UI_BONUSGAME,[!0]);else{var n=0,i=this.getRenders(-1).filter(function(e){return 11==e.data});i.length>3&&(n=1,i.forEach(function(e){return e.playScatAni(3)}),slot.SoundMger.instance.playEffect("SCATTER_FreeGame",!1),this.scoreControlSrc.showScatterWin()),this.scheduleOnce(function(){setTimeout(function(){return o.resetScatLayer()},1e3),slot.SoundMger.instance.playMusic("Free_game_back_music",!0),setTimeout(function(){return o.scoreControlSrc.hideScatterWin()},1e3),game.UIManager.getInstance().open(p.UIID.UI_BONUSGAMESTART),game.UIManager.getInstance().open(p.UIID.UI_BONUSGAME,[!1])},n)}t.run()},t.prototype.onBonusGameOver=function(e,t){cc.log("onBonusGame \u5c0f\u6e38\u620f\u7ed3\u675f bonusGameInfo=",e);var o=e.luckyGoldResultList[e.luckyGoldResultList.length-1].gridReward;cc.log("onBonusGame \u5c0f\u6e38\u620f\u7ed3\u675f gridReward=",o);for(var n=this.getRenders(-1),i=0;i<n.length;i++){for(var a=!1,r=0;r<o.length;r++)if(n[i].index==o[r].pos-1){n[i].bonusOver(o[r]),a=!0;break}a||n[i].bonusOver({elem:24,goldReward:0})}t.run()},t._instance=null,a([f(cc.Node)],t.prototype,"runfast",void 0),a([f(u.default)],t.prototype,"scoreControlSrc",void 0),a([f(cc.Node)],t.prototype,"scatterWaitLight",void 0),a([f(cc.Node)],t.prototype,"blackLayer",void 0),a([f(cc.Node)],t.prototype,"elemPayBlackLayer",void 0),a([f(cc.Node)],t.prototype,"scatShowLayer",void 0),a([f(cc.Prefab)],t.prototype,"itemBelowPrefab",void 0),a([f(cc.Prefab)],t.prototype,"itemAbovePrefab",void 0),o=a([m],t)}(slot.AbstractMainView);o.default=y,cc._RF.pop()},{"../base/GameEventName111013601":"GameEventName111013601","../score/ScoreControl111013601":"ScoreControl111013601","./scrollerSkins/JTChildManager111013601":"JTChildManager111013601","./scrollerSkins/JTLayerManager111013601":"JTLayerManager111013601","./scrollerSkins/JTLogicFactroy111013601":"JTLogicFactroy111013601","./scrollerSkins/JTScatterTask111013601":"JTScatterTask111013601"}],ItemEffect111013601:[function(e,t,o){"use strict";cc._RF.push(t,"fb417L/RN1MEIZmgQypkrES","ItemEffect111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=r.property,l=r.menu,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scatBelowNode=null,t.scatBelowLight=null,t.scatBelowBoom=null,t.scatBelowSmoke=null,t.scatAboveNode=null,t.scatAboveStar=null,t.winBelowNode=null,t.winBelowBgSkin=null,t.winBelowFrame=null,t.winBelowBottom=null,t.winBelowBgSkinName=["j","q","k","a","specs","boot","wolf","girl","hunter","wild"],t.winAboveNode=null,t.winAboveStar=null,t.winAboveBoom1=null,t.winAboveBoom2=null,t.mulAboveNode=null,t.mulAboveSke1=null,t.mulAboveSke2=null,t.mulAboveNum=null,t.mulNums=[2,3,5,8,10,12,15,20],t}return i(t,e),t.prototype.setAboveNode=function(e){this.scatAboveNode=e.getChildByName("scatterNode"),this.scatAboveStar=this.scatAboveNode.getChildByName("star").getComponent(sp.Skeleton),this.winAboveNode=e.getChildByName("winNode"),this.winAboveStar=this.winAboveNode.getChildByName("star").getComponent(sp.Skeleton),this.winAboveBoom1=this.winAboveNode.getChildByName("boom1").getComponent(sp.Skeleton),this.winAboveBoom2=this.winAboveNode.getChildByName("boom2").getComponent(sp.Skeleton),this.mulAboveNode=e.getChildByName("mulNode"),this.mulAboveSke1=this.mulAboveNode.getChildByName("ske1").getComponent(sp.Skeleton),this.mulAboveSke2=this.mulAboveNode.getChildByName("ske2").getComponent(sp.Skeleton),this.mulAboveNum=this.mulAboveNode.getChildByName("num").getComponent(cc.Label)},t.prototype.reset=function(){this.winBelowNode.scale=1,this.winBelowNode.active=this.winAboveNode.active=!1,this.scatBelowNode.active=this.scatAboveNode.active=!1,this.scatBelowBoom.node.active=this.scatBelowSmoke.active=!1},t.prototype.showMul=function(e){12<=e&&e<=19?(this.mulAboveNode.active=!0,this.mulAboveSke1.node.active=!0,this.mulAboveNum.node.y=-32,this.mulAboveNum.string="x"+this.mulNums[e-12],this.mulAboveNum.node.color=cc.color(255,255,255,255)):this.mulAboveNode.active=!1},t.prototype.collectMul=function(e,t){var o=this,n=cc.instantiate(this.mulAboveNum.node);return n.setPosition(t.convertToNodeSpaceAR(this.mulAboveNum.node.convertToWorldSpaceAR(cc.v2(0,0)))),t.addChild(n),e.setSkeletonAnimation("win",!1,function(){return e.setSkeletonAnimation("idle",!0)}),this.mulAboveNum.node.color=cc.color(80,80,80,255),setTimeout(function(){return o.mulAboveSke2.setAnimation(1,"mtp_b",!1)},150),n},t.prototype.bonusOverShowMul=function(e){this.mulAboveNode.active=!0,this.mulAboveSke1.node.active=!1,this.mulAboveNum.node.y=0,this.mulAboveNum.node.color=cc.color(255,255,255,255),this.mulAboveNum.string=e+"x"},t.prototype.playScatAni=function(e,t){var o=this;if(11==e.data)switch(t){case 1:e.setSkeletonAnimation("idle",!0),this.scatBelowNode.active=!0;break;case 2:e.setSkeletonAnimation("spawn",!1,function(){return e.setSkeletonAnimation("idle",!0)}),this.scatBelowNode.active=!0;break;case 3:e.setSkeletonAnimation("win",!1,function(){return e.setSkeletonAnimation("win_idle",!0)});break;case 4:case 5:e.setSkeletonAnimation("heartbeat",!0),this.scatAboveNode.active=this.scatBelowBoom.node.active=this.scatBelowSmoke.active=!0,cc.tween(e.skinLoader).call(function(){5==t&&slot.SoundMger.instance.stopEffect("Another_treasure_hunt_waiting"),5==t&&slot.SoundMger.instance.playEffect("Another_treasure_hunt_waiting",!1),o.scatBelowBoom.setAnimation(0,"scat_b",!1),o.scatAboveStar.setAnimation(0,"scat_d",!1)}).to(.3,{scale:.85}).to(.2,{scale:.7}).delay(.5).union().repeatForever().start();break;case 6:cc.Tween.stopAllByTarget(e.skinLoader),e.skinLoader.scale=.7,e.zIndex=50,e.setSkeletonAnimation("idle",!0),this.scatAboveNode.active=this.scatBelowBoom.node.active=this.scatBelowSmoke.active=!1}},t.prototype.playWinSelAni=function(e){this.winBelowNode.active=this.winAboveNode.active=!0,this.winBelowBgSkin.setSkin(this.winBelowBgSkinName[e.data-1]),this.winBelowBgSkin.setAnimation(0,"ps_a",!1),this.winBelowFrame.setAnimation(0,"ps_b_loop",!0),this.winBelowBottom.setAnimation(0,"ps_f_loop",!0),this.winAboveStar.setAnimation(0,"ps_c",!1),e.setSkeletonAnimation("win",!1)},t.prototype.playWinBoomAni=function(e){cc.tween(this.winBelowNode).to(.15,{scale:0}).set({scale:1,active:!1}).start(),cc.tween(e.skinLoader.skeletonNode).to(.15,{scale:0}).call(function(){return e.skinLoader.url=null}).set({scale:1}).start(),this.winAboveBoom1.setAnimation(0,"ps_d",!1),this.winAboveBoom2.setAnimation(0,"ps_e",!1)},a([c(cc.Node)],t.prototype,"scatBelowNode",void 0),a([c(cc.Node)],t.prototype,"scatBelowLight",void 0),a([c(sp.Skeleton)],t.prototype,"scatBelowBoom",void 0),a([c(cc.Node)],t.prototype,"scatBelowSmoke",void 0),a([c(cc.Node)],t.prototype,"winBelowNode",void 0),a([c(sp.Skeleton)],t.prototype,"winBelowBgSkin",void 0),a([c(sp.Skeleton)],t.prototype,"winBelowFrame",void 0),a([c(sp.Skeleton)],t.prototype,"winBelowBottom",void 0),a([s,l("game/111013601/ItemEffect111013601")],t)}(cc.Component);o.default=u,cc._RF.pop()},{}],JTChildManager111013601:[function(e,t,o){"use strict";cc._RF.push(t,"5719b+lJVtDfYSZeMtE0kix","JTChildManager111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("../SpinSlotViewExtend111013601"),r=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTChildFactory.SCROLLER_TYPE,slot.JTScroller),this.registerClass(slot.JTChildFactory.ITEMRENDER_TYPE,a.default),this.registerClass(slot.JTChildFactory.GIRD_TYPE,slot.JTSkinnableGridRender),this.registerClass(slot.JTChildFactory.SCATTER_TYPE,slot.JTScatterGridRender),this.registerClass(slot.JTChildFactory.LINE_TYPE,slot.JTSkinnableRuntimeLineAnimationRender),this},t.prototype.changedLine=function(t,o){e.prototype.changedLine.call(this,t,o)},t}(slot.JTChildFactory);o.default=r,cc._RF.pop()},{"../SpinSlotViewExtend111013601":"SpinSlotViewExtend111013601"}],JTEliminateComplete:[function(e,t,o){"use strict";cc._RF.push(t,"00d65x2IFZA0r9Eb0ya/dYP","JTEliminateComplete");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return e.call(this)||this}return i(t,e),a([s],t)}(slot.JTParseTask));o.default=c,cc._RF.pop()},{}],JTLayerManager111013601:[function(e,t,o){"use strict";cc._RF.push(t,"aa69cmSY1FEmpzsFRlItGKh","JTLayerManager111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.initialize=function(e){this.addChildNode(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,e);var t=this.addChildNode(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,e);this.addChildNode(slot.JTLayerFactory.SCROLLER_CONTAINER,t),this.addChildNode(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,e);var o=this.addChildNode(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,e),n=this.addChildNode(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,e);this.addChildNode(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,e).name="runfastLayout",this.addChildNode(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,e),this.addChildNode(slot.JTLayerFactory.LINE_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,e),this.addChildNode(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,e),t.launch(e),n.setup(e.config.getWidth(),e.config.getHeight(),0),o.setup(e.config.getWidth(),e.config.getHeight(),0),e.layerSortPlayContainer._isSortByPosIndex=!0},t.prototype.registerClassAlias=function(){return this.registerClass(slot.JTLayerFactory.EFFECT_BELOW_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.LINE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.GIRD_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCROLLER_MASK_CONTAINER,slot.JTScrollerGroupMask),this.registerClass(slot.JTLayerFactory.EFFECT_ABOVE_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCATTER_GRID_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SKIN_LOADER_CONTAINER,slot.JTGComponent),this.registerClass(slot.JTLayerFactory.SCOLLER_GROUP_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LAYER_SORT_PLAY_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_STOP_RENDER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_PLAY_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.LAYER_SORT_SCATTER_STOP_CONTAINER,slot.JTLayerSortContainer),this.registerClass(slot.JTLayerFactory.SCATTER_BLACK_BACK_GROUND,slot.JTBlackBackGround),this.registerClass(slot.JTLayerFactory.LINE_NUMBER_CONTAINER,slot.JTGComponent),this},t.FRAME_IMAGE_CONTAINER=999,t}(slot.JTLayerFactory);o.default=a,cc._RF.pop()},{}],JTLogicFactroy111013601:[function(e,t,o){"use strict";cc._RF.push(t,"f9167xfumhGfqvI5T6TpjYA","JTLogicFactroy111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=function(e){function t(){return e.call(this)||this}return i(t,e),t.prototype.adjustFlowOptions=function(){},t}(slot.JTLogicFactroy);o.default=a,cc._RF.pop()},{}],JTScatterTask111013601:[function(e,t,o){"use strict";cc._RF.push(t,"a64aa8mceFAa5FGC+A9NBmc","JTScatterTask111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreIdx=[[4],[],[],[],[],[4]],t}return i(t,e),t.prototype.getIgnoreIndexs=function(e){return this.ignoreIdx[e]},t.prototype.start=function(){},a([s],t)}(slot.JTScatterTask));o.default=c,cc._RF.pop()},{}],LanguageInfo111013601:[function(e,t,o){"use strict";cc._RF.push(t,"a7534kriytEJZ/5P6CpM60F","LanguageInfo111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,r.menu),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s,c("game/LanguageInfo111013601")],t)}(slot.LanguageInfoBase);o.default=l,cc._RF.pop()},{}],LanguageSpInfoBase121005101:[function(e,t,o){"use strict";cc._RF.push(t,"82074y7RhdPcL0att/vv0NR","LanguageSpInfoBase121005101");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,r.menu),l=r.requireComponent,u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s,c("game/LanguageSpInfoBase111013601"),l(sp.Skeleton)],t)}(slot.LanguageSkeleton);o.default=u,cc._RF.pop()},{}],Main111013601:[function(e,t,o){"use strict";cc._RF.push(t,"57d00zdnbpIl73C/PZZzTrK","Main111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../base/GameEventName111013601"),s=e("../roller/WinAnimanager111013601"),c=cc._decorator,l=c.ccclass,u=(c.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){e.prototype.onLoad.call(this),this.initUI(),game.SoundManager.getInstance().setMusicVolume(1)},t.prototype.initUI=function(){game.BaseUIConf.getInstance().mergeUIConf(r.UICF);var e=game.BaseUIConf.getInstance().getUICF();game.UIManager.getInstance().initUIConf(e)},t.prototype.getWinAniManagerClass=function(){return s.default},a([l],t)}(slot.MainView));o.default=u,cc._RF.pop()},{"../base/GameEventName111013601":"GameEventName111013601","../roller/WinAnimanager111013601":"WinAnimanager111013601"}],MultiPSRandomRefresh111013601:[function(e,t,o){"use strict";cc._RF.push(t,"1ed7cN+6uBHWIv4qTMZakg3","MultiPSRandomRefresh111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,r.menu),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),a([s,c("game/111013601/MultiPSRandomRefresh111013601")],t)}(slot.MultiPSRandomRefreshTool);o.default=l,cc._RF.pop()},{}],ScoreControl111013601:[function(e,t,o){"use strict";cc._RF.push(t,"ec67cdV6z9AUbqUQB4FKRpg","ScoreControl111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=e("../roller/GameLayer111013601"),s=cc._decorator,c=s.ccclass,l=s.property,u=s.menu,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bannerBar1=null,t.bannerBar2=null,t.bannerBar3=null,t.bannerNode=null,t.scatterWait=null,t.scatterWaitPs=null,t.scatterWaitTxt=null,t.scatterWin=null,t.scoreNode=null,t.lightNode=null,t.scoreBoomPs=null,t.scoreLayout=null,t.totalWinTxt=null,t.winTxt=null,t.winNumLb=null,t.collectNumAni=null,t.collectNumLb=null,t.collectMulAni=null,t.collectMulBoom=null,t.collectMulLb=null,t.currScore=0,t.currMul=0,t}return i(t,e),t.prototype.reset=function(){this.currScore=this.currMul=0,this.bannerBar1.active=!0,this.bannerNode.active=!0,this.bannerBar2.off("finished"),cc.tween(this.bannerBar2.node).to(.2,{opacity:0}).start(),this.bannerBar2.node.getChildByName("ske").getComponent(sp.Skeleton).setToSetupPose(),this.bannerBar2.node.getChildByName("ske").getComponent(sp.Skeleton).clearTracks(),this.bannerBar3.off("finished"),cc.tween(this.bannerBar3.node).to(.2,{opacity:0}).start(),this.scatterWait.active=!1,this.scoreNode.active=this.lightNode.active=!1},t.prototype.showScatterWait=function(e){var t=this;this.bannerNode.active=this.scoreNode.active=!1,this.scatterWait.active=!0,e?cc.tween(this.scatterWaitTxt).call(function(){return t.scatterWaitPs.setAnimation(0,"ib_a",!1)}).to(.17,{scale:1.2}).to(.17,{scale:1}).delay(.66).union().repeat(3).start():cc.tween(this.scatterWaitTxt).call(function(){return t.scatterWaitPs.setAnimation(0,"ib_a",!1)}).to(.17,{scale:1.2}).to(.17,{scale:1}).delay(.66).union().repeatForever().start()},t.prototype.hideScatterWait=function(e){cc.Tween.stopAllByTarget(this.scatterWaitTxt),this.scatterWaitTxt.scale=1,this.scatterWait.active=!1,this.bannerNode.active=1==e,this.scoreNode.active=2==e},t.prototype.showScatterWin=function(){this.scatterWin.active=!0,this.scatterWin.getChildByName("psSke").getComponent(sp.Skeleton).setAnimation(0,"ib_a",!1),this.bannerNode.active=this.scoreNode.active=!1},t.prototype.hideScatterWin=function(){this.bannerNode.active=!0,this.scatterWin.active=this.scoreNode.active=!1},t.prototype.oneElemWinScore=function(e){var t=this;this.collectNumLb.string=slot.SlotUtils.formatNumber(e),this.currScore+=e;var o=e/slot.SpinManager.instance.betCost,n=this.currScore/slot.SpinManager.instance.betCost;slot.SoundMger.instance.playEffect(o<1?"Eliminating_effect":o<5?"Eliminating8_Win":"Winning_sound_effect",!1),this.collectNumAni.play(),this.collectNumAni.on("finished",function(){t.collectNumAni.off("finished"),t.bannerNode.active=!1,t.scoreNode.active=!0,t.totalWinTxt.active=!1,t.winTxt.active=!0,t.winNumLb.string=slot.SlotUtils.formatNumber(t.currScore),cc.tween(t.scoreLayout).set({scale:.5}).to(.3,{scale:1.2}).to(.15,{scale:1}).start(),t.bannerBar1.active&&n<5?(t.lightNode.active=!0,t.scoreBoomPs.setAnimation(0,"ib_a",!1)):t.lightNode.active=!1,slot.SoundMger.instance.playEffect(o<1?"Winning_elimination_sound_effect":o<2?"Multiplier_winning_sound1":"Winning30_time_sound",!1),5<=n&&n<20&&0==t.bannerBar2.node.opacity?(slot.SoundMger.instance.playEffect("Display_win",!1),t.bannerBar2.play(),t.bannerBar2.on("finished",function(){t.bannerBar2.off("finished"),t.bannerBar1.active=!1})):n>=20&&0==t.bannerBar3.node.opacity&&(slot.SoundMger.instance.playEffect("Display_win",!1),t.bannerBar3.play(),t.bannerBar3.on("finished",function(){t.bannerBar3.off("finished"),t.bannerBar2.node.opacity=0,t.bannerBar1.active=!1}))})},t.prototype.collectMul=function(e,t){var o=this,n=e.length;if(0!=n){this.currMul=0;for(var i=function(i){a.scheduleOnce(function(){var a=e[i].collectMul(o.node);slot.SoundMger.instance.playEffect("Wolf_Appears",!1),cc.tween(a).to(.15,{scale:1.1}).to(.25,{x:0,y:525}).call(function(){r.default.instance.shakeMainView(),slot.SoundMger.instance.playEffect("multiple_Fly",!1),o.currMul+=Number(a.getComponent(cc.Label).string.replace("x","")),o.collectMulLb.node.opacity=255,o.collectMulLb.string="x"+o.currMul,0==i&&cc.tween(o.collectMulBoom.node).set({opacity:0}).to(.2,{opacity:255}).start(),o.collectMulBoom.setAnimation(0,"mtp_a",!1),o.collectMulBoom.setAnimation(1,"mtp_b",!1);var e=o.collectMulBoom.setAnimation(2,"mtp_c",!1);i==n-1&&(cc.tween(o.collectMulBoom.node).delay(.66).to(.33,{opacity:0}).start(),o.collectMulBoom.setTrackCompleteListener(e,function(){o.collectMulBoom.setTrackCompleteListener(e,null),o.collectMulBoom.clearTracks(),o.collectMulBoom.setToSetupPose()}),o.collectMulAni.play(),o.collectMulAni.on("finished",function(){o.collectMulAni.off("finished"),t.run()}))}).removeSelf().start()},.3*i)},a=this,s=0;s<n;s++)i(s)}else t.run()},t.prototype.totalWinScore=function(e,t,o){var n=this;this.bannerNode.active=!1,this.scoreNode.active=!0,this.totalWinTxt.active=!0,this.winTxt.active=!1;var i=e/slot.SpinManager.instance.betCost;5<=i&&i<20&&0==this.bannerBar2.node.opacity?(this.bannerBar2.play(),this.bannerBar2.on("finished",function(){n.bannerBar2.off("finished"),n.bannerBar1.active=!1})):i>=20&&0==this.bannerBar3.node.opacity&&(this.bannerBar3.play(),this.bannerBar3.on("finished",function(){n.bannerBar3.off("finished"),n.bannerBar2.node.opacity=0,n.bannerBar1.active=!1}));var a=0;2==o&&5<=i&&i<20&&(a=1.5),3==o||4==o?(slot.SoundMger.instance.playEffect("Win_win",!1),this.lightNode.active=!1):2==o&&(a>0?(slot.SoundMger.instance.playEffect(this.currMul>0?"Win_win":"Win_win2",!1),slot.SoundMger.instance.playEffect("Winning_number_scrolls",!1),this.lightNode.active=!1):i<5?slot.SoundMger.instance.playEffect(this.currMul>0?"Win_win":"Win_win1",!1):(this.lightNode.active=!1,slot.SoundMger.instance.playEffect(this.currMul>0?"Win_win":"Win_win2",!1))),cc.tween({num:0}).to(a,{num:e},{progress:function(e,t,o,i){var a=cc.misc.lerp(e,t,i);return n.winNumLb.string=slot.SlotUtils.formatNumber(a),a}}).call(function(){if(n.winNumLb.string=slot.SlotUtils.formatNumber(e),0!=o)if(cc.tween(n.scoreLayout).set({scale:.5}).to(.3,{scale:1.2}).to(.15,{scale:1}).start(),2==o){if(n.lightNode.active=!0,n.scoreBoomPs.setAnimation(0,"ib_a",!1),255==n.bannerBar2.node.opacity){var a=n.bannerBar2.node.getChildByName("ske").getComponent(sp.Skeleton);a.setAnimation(0,"ib_mw_b_loop",!0),a.setAnimation(1,"ib_mw_a",!1)}}else 1==o&&(n.lightNode.active=i<20,5<=i&&i<20&&n.bannerBar2.node.getChildByName("ske").getComponent(sp.Skeleton).setAnimation(0,"ib_mw_b_loop",!0));t&&t.run()}).start()},a([l(cc.Node)],t.prototype,"bannerBar1",void 0),a([l(cc.Animation)],t.prototype,"bannerBar2",void 0),a([l(cc.Animation)],t.prototype,"bannerBar3",void 0),a([l(cc.Node)],t.prototype,"bannerNode",void 0),a([l(cc.Node)],t.prototype,"scatterWait",void 0),a([l(sp.Skeleton)],t.prototype,"scatterWaitPs",void 0),a([l(cc.Node)],t.prototype,"scatterWaitTxt",void 0),a([l(cc.Node)],t.prototype,"scatterWin",void 0),a([l(cc.Node)],t.prototype,"scoreNode",void 0),a([l(cc.Node)],t.prototype,"lightNode",void 0),a([l(sp.Skeleton)],t.prototype,"scoreBoomPs",void 0),a([l(cc.Node)],t.prototype,"scoreLayout",void 0),a([l(cc.Node)],t.prototype,"totalWinTxt",void 0),a([l(cc.Node)],t.prototype,"winTxt",void 0),a([l(cc.Label)],t.prototype,"winNumLb",void 0),a([l(cc.Animation)],t.prototype,"collectNumAni",void 0),a([l(cc.Label)],t.prototype,"collectNumLb",void 0),a([l(cc.Animation)],t.prototype,"collectMulAni",void 0),a([l(sp.Skeleton)],t.prototype,"collectMulBoom",void 0),a([l(cc.Label)],t.prototype,"collectMulLb",void 0),a([c,u("game/111013601/ScoreControl111013601")],t)}(cc.Component);o.default=p,cc._RF.pop()},{"../roller/GameLayer111013601":"GameLayer111013601"}],SpinSlotViewExtend111013601:[function(e,t,o){"use strict";cc._RF.push(t,"32be0vc0edONqUu4Uh58X3x","SpinSlotViewExtend111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var a=e("./GameLayer111013601"),r=e("./ItemEffect111013601"),s=function(e){function t(){var t=e.call(this)||this;t.itemEffectSrc=null,t.isOldElem=!1,t.isBlur=!0,t.isFade=!0,t.isFadeMask=!1;var o=cc.instantiate(a.default.instance.itemBelowPrefab);t.addEffectNode(o,!1),t.itemEffectSrc=o.getComponent(r.default);var n=cc.instantiate(a.default.instance.itemAbovePrefab);return t.addEffectNode(n,!0),t.itemEffectSrc.setAboveNode(n),t}return i(t,e),t.prototype.onPlayAnimation=function(){},t.prototype.onStopAnimation=function(){},t.prototype.onPlayRewardsAnimation=function(){},t.prototype.onPlayWildAnimation=function(){},t.prototype.onRollEnd=function(){4==this.index||29==this.index?this.data=0:this.playStopEff()},t.prototype.onDropEnd=function(){this.isOldElem&&(this.isOldElem=!1,slot.SoundMger.instance.playEffect("Roller_drops_after_elimination"))},t.prototype.onOldElemDropEnd=function(){slot.SlotMachineView.instance.scroller.ruleTaskManager.getRuleTask(slot.JTRuleTaskType.SCATTER).isRunning&&(this.isOldElem=!0)},t.prototype.onNewElemDropEnd=function(){if(this.playStopEff(),11==this.data){var e=++a.default.instance.scatCnt;e>5&&(e=5),slot.SoundMger.instance.playEffect("SCATTER_Appear"+e,!1)}},t.prototype.playStopEff=function(){var e=this,t=a.default.instance.isImmediatelyStop,o=slot.SpinManager.instance.isInTurbo;this.data<=9?this.setSkeletonAnimation("spawn",!1):this.data<=19&&(11==this.data?this.playScatAni(2):o?this.setSkeletonAnimation("idle",!0):this.setSkeletonAnimation("spawn",!1,function(){return e.setSkeletonAnimation("idle",!0)})),10==this.data?((o||t)&&slot.SoundMger.instance.stopEffect("WILD_Appear"),slot.SoundMger.instance.playEffect("WILD_Appear",!1)):12<=this.data&&this.data<=19&&((o||t)&&slot.SoundMger.instance.stopEffect("Wooden_box_appears_1"),!o&&slot.SoundMger.instance.playEffect("Wooden_box_appears_1",!1),setTimeout(function(){(o||t)&&slot.SoundMger.instance.stopEffect("Wooden_box_opens_2"),slot.SoundMger.instance.playEffect("Wooden_box_opens_2",!1)},o?0:400))},t.prototype.playIdleAni=function(){4!=this.index&&29!=this.index||(this.data=0),11==this.data?this.playScatAni(1):(10==this.data||12<=this.data&&this.data<=19)&&this.setSkeletonAnimation("idle",!0)},t.prototype.playScatAni=function(e){this.itemEffectSrc.playScatAni(this,e)},t.prototype.playWinSelAni=function(){this.itemEffectSrc.playWinSelAni(this)},t.prototype.playWinBoomAni=function(){this.itemEffectSrc.playWinBoomAni(this)},t.prototype.collectMul=function(e){return this.itemEffectSrc.collectMul(this,e)},t.prototype.bonusOver=function(e){var t=this,o=Number(e.elem);this.data=o,setTimeout(function(){if(24!=o){var n=(Number(e.goldReward)+Number(e.functionReward))/slot.SpinManager.instance.betCost;if(t.itemEffectSrc.bonusOverShowMul(n),21==o||22==o||23==o){var i=Number(e.functionArg);0==i&&(i=6),t.setSkeletonAnimation("0"+i+"_idle",!0)}}},0)},t.prototype.onDataOrStageChange=function(){this.itemEffectSrc.showMul(this.data)},t.prototype.reset=function(){e.prototype.reset.call(this),this.itemEffectSrc&&this.itemEffectSrc.reset(),this.isOldElem=!1},t.prototype.isResetBeforeScrolling=function(){return!0},t}(slot.SpinSlotView);o.default=s,cc._RF.pop()},{"./GameLayer111013601":"GameLayer111013601","./ItemEffect111013601":"ItemEffect111013601"}],WinAnimanager111013601:[function(e,t,o){"use strict";cc._RF.push(t,"e16b6QLxCZGKLBdMDGHGL7L","WinAnimanager111013601");var n,i=this&&this.__extends||(n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])})(e,t)},function(e,t){function o(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}),a=this&&this.__decorate||function(e,t,o,n){var i,a=arguments.length,r=a<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,o,n);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(r=(a<3?i(r):a>3?i(t,o,r):i(t,o))||r);return a>3&&r&&Object.defineProperty(t,o,r),r};Object.defineProperty(o,"__esModule",{value:!0});var r=cc._decorator,s=r.ccclass,c=(r.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.playWinStart=function(){cc.log("WinAnimanager111013601 playWinStar")},t.prototype.playWinTextFadeIn=function(e,t){return cc.log("WinAnimanager111013601 playWinTextFadeIn winType="+t),t==slot.WinAniType.Small?(cc.tween(this.winCoinLabel).set({offScale:0}).to(.5,{offScale:1}).start(),cc.tween(this.node).set({opacity:0}).to(.2,{opacity:255}).start(),cc.tween(e).set({scale:.8}).to(5,{scale:1}).start()):cc.tween(e).set({scale:1}).to(.15,{scale:.8}).to(5,{scale:1}).start()},t.prototype.playWinTextFadeOut=function(t,o){cc.log("WinAnimanager111013601 playWinTextFadeOut ="+o),e.prototype.playWinTextFadeOut.call(this,t,o)},t.prototype.onPlayFinalAnimation=function(){var e=this.getWinTextNode();cc.Tween.stopAllByTarget(e),e.scale=1},t.prototype.onCoinIncreaseEnd=function(){var e=this.getWinTextNode();cc.Tween.stopAllByTarget(e),e.scale=1},t.prototype.playFadeOut=function(t){var o=this;cc.log("WinAnimanager111013601 playFadeOut"),cc.tween(this.node).set({opacity:255}).to(.2,{opacity:0}).call(function(){return e.prototype.playFadeOut.call(o,t)}).start()},a([s],t)}(slot.WinAniManager));o.default=c,cc._RF.pop()},{}]},{},["CommonNumAtlas111013601","GameEventName111013601","LanguageInfo111013601","LanguageSpInfoBase121005101","MultiPSRandomRefresh111013601","BonusGame111013601","BonusGameEnd111013601","BonusGameStart111013601","BonusItem111013601","GameBg111013601","Main111013601","Banner111013601","GameLayer111013601","ItemEffect111013601","SpinSlotViewExtend111013601","WinAnimanager111013601","JTChildManager111013601","JTEliminateComplete","JTLayerManager111013601","JTLogicFactroy111013601","JTScatterTask111013601","ScoreControl111013601"]);